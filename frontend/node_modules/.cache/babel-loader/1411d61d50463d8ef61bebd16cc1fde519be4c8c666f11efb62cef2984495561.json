{"ast":null,"code":"var _jsxFileName = \"D:\\\\FreeLance\\\\Real-estate-agent\\\\frontend\\\\src\\\\components\\\\ChatInterface.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Box, TextField, Button, Paper, Typography, Container, CircularProgress, Card, CardContent, CardActions, Chip, Divider, Alert, Dialog, DialogTitle, DialogContent, DialogActions, Grid, Avatar, List, ListItem, ListItemText, Snackbar } from '@mui/material';\nimport RealEstateService from '../services/realEstateService';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ChatInterface = () => {\n  _s();\n  var _selectedProperty$squ;\n  console.log('🎨 =================================');\n  console.log('🎨 CHAT INTERFACE COMPONENT LOADING');\n  console.log('🎨 =================================');\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [properties, setProperties] = useState([]);\n  const [selectedProperty, setSelectedProperty] = useState(null);\n  const [showPropertyDetails, setShowPropertyDetails] = useState(false);\n  const [snackbar, setSnackbar] = useState({\n    open: false,\n    message: '',\n    severity: 'info'\n  });\n  const messagesEndRef = useRef(null);\n  console.log('🎨 Component state initialized');\n  console.log('🎨 RealEstateService available:', !!RealEstateService);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    console.log('📜 Scrolling to bottom');\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n  useEffect(() => {\n    console.log('📜 Messages updated, scrolling to bottom');\n    scrollToBottom();\n  }, [messages]);\n  useEffect(() => {\n    console.log('🎬 ChatInterface mounted, adding welcome message');\n    // Add enhanced welcome message\n    const welcomeMessage = {\n      id: 1,\n      text: \"👋 Welcome to AI Real Estate Assistant! I'm here to help you find your perfect home.\\n\\n🏠 I can help you with:\\n• Property searches with smart filtering\\n• Detailed amenities information\\n• Price negotiations\\n• Deal closing process\\n\\nTry asking: 'Find 2BHK apartments in San Francisco under $500K'\",\n      sender: 'agent',\n      timestamp: new Date().toISOString(),\n      type: 'welcome'\n    };\n    console.log('🎬 Welcome message created:', welcomeMessage);\n    setMessages([welcomeMessage]);\n  }, []);\n  const handleSubmit = async e => {\n    console.log('📝 =================================');\n    console.log('📝 FORM SUBMIT STARTED');\n    console.log('📝 =================================');\n    e.preventDefault();\n    console.log('📝 Event prevented');\n    console.log('📝 Current input value:', input);\n    console.log('📝 Input trimmed:', input.trim());\n    if (!input.trim()) {\n      console.log('⚠️ Empty input, returning early');\n      return;\n    }\n    console.log('📝 Creating user message...');\n    const userMessage = {\n      id: messages.length + 1,\n      text: input,\n      sender: 'user',\n      timestamp: new Date().toISOString()\n    };\n    console.log('📝 User message created:', userMessage);\n    console.log('📝 Updating messages state...');\n    setMessages(prev => {\n      console.log('📝 Previous messages:', prev);\n      const newMessages = [...prev, userMessage];\n      console.log('📝 New messages array:', newMessages);\n      return newMessages;\n    });\n    const currentInput = input;\n    console.log('📝 Saving current input:', currentInput);\n    console.log('📝 Clearing input field...');\n    setInput('');\n    console.log('📝 Setting loading to true...');\n    setLoading(true);\n    try {\n      var _response$data;\n      console.log('🚀 Starting API call...');\n      console.log('🚀 Calling RealEstateService.chatQuery with:', currentInput);\n\n      // Call the service\n      const response = await RealEstateService.chatQuery(currentInput);\n      console.log('✅ API call completed');\n      console.log('✅ Response received:', response);\n      console.log('✅ Response status:', response.status);\n      console.log('✅ Response message:', response.message);\n      console.log('✅ Response data:', response.data);\n      const agentMessage = {\n        id: messages.length + 2,\n        text: response.message || \"I'm processing your request...\",\n        sender: 'agent',\n        timestamp: new Date().toISOString(),\n        data: response.data,\n        status: response.status\n      };\n      console.log('🤖 Agent message created:', agentMessage);\n      console.log('📝 Adding agent message to state...');\n      setMessages(prev => {\n        console.log('📝 Previous messages before agent response:', prev);\n        const newMessages = [...prev, agentMessage];\n        console.log('📝 Messages after agent response:', newMessages);\n        return newMessages;\n      });\n\n      // Handle properties data\n      console.log('🏠 Checking for properties in response...');\n      if ((_response$data = response.data) !== null && _response$data !== void 0 && _response$data.properties && response.data.properties.length > 0) {\n        console.log('🏠 Properties found:', response.data.properties.length);\n        console.log('🏠 First property:', response.data.properties[0]);\n        const processedProperties = response.data.properties.map(p => ({\n          ...p,\n          showAmenities: false,\n          negotiationStatus: 'none'\n        }));\n        console.log('🏠 Processed properties:', processedProperties);\n        setProperties(processedProperties);\n        console.log('🏠 Properties state updated');\n      } else {\n        console.log('🏠 No properties found in response');\n      }\n\n      // Show success/error snackbar\n      if (response.status === 'error') {\n        console.log('⚠️ Error response detected, showing snackbar');\n        setSnackbar({\n          open: true,\n          message: 'Something went wrong. Please try again.',\n          severity: 'error'\n        });\n      } else {\n        console.log('✅ Success response detected');\n      }\n    } catch (error) {\n      console.log('💥 =================================');\n      console.log('💥 HANDLE SUBMIT ERROR');\n      console.log('💥 =================================');\n      console.error('💥 Caught error in handleSubmit:', error);\n      console.error('💥 Error name:', error.name);\n      console.error('💥 Error message:', error.message);\n      console.error('💥 Error stack:', error.stack);\n      const errorMessage = {\n        id: messages.length + 2,\n        text: '❌ Sorry, I encountered an error. Please try again or rephrase your question.',\n        sender: 'agent',\n        timestamp: new Date().toISOString(),\n        status: 'error'\n      };\n      console.log('💥 Error message created:', errorMessage);\n      setMessages(prev => [...prev, errorMessage]);\n      setSnackbar({\n        open: true,\n        message: 'Connection error. Please check your internet and try again.',\n        severity: 'error'\n      });\n    } finally {\n      console.log('🏁 Setting loading to false...');\n      setLoading(false);\n      console.log('🏁 Handle submit completed');\n    }\n  };\n  const handlePropertyAction = async (property, action, data = {}) => {\n    console.log('🏠 =================================');\n    console.log('🏠 PROPERTY ACTION STARTED');\n    console.log('🏠 =================================');\n    console.log('🏠 Property:', property);\n    console.log('🏠 Action:', action);\n    console.log('🏠 Data:', data);\n    try {\n      let response;\n      switch (action) {\n        case 'showAmenities':\n          console.log('🏢 Fetching amenities for property:', property.id);\n          response = await RealEstateService.getPropertyAmenities(property.id);\n          console.log('🏢 Amenities response:', response);\n          if (response.status === 'success') {\n            console.log('🏢 Updating property amenities in state');\n            setProperties(prev => prev.map(p => p.id === property.id ? {\n              ...p,\n              showAmenities: !p.showAmenities,\n              amenitiesData: response.data\n            } : p));\n          }\n          break;\n        case 'makeOffer':\n          const suggestedOffer = Math.round(property.price * 0.95);\n          console.log('💰 Making offer:', suggestedOffer);\n          setInput(`I want to make an offer of $${suggestedOffer.toLocaleString()} for property ${property.id}`);\n          break;\n        case 'closeDeal':\n          console.log('🤝 Closing deal for property:', property.id);\n          response = await RealEstateService.finalizeDeal(property.id);\n          console.log('🤝 Deal response:', response);\n          if (response.status === 'success') {\n            console.log('🤝 Updating property deal status');\n            setProperties(prev => prev.map(p => p.id === property.id ? {\n              ...p,\n              dealStatus: 'closed',\n              closingData: response.data\n            } : p));\n            setSnackbar({\n              open: true,\n              message: '🎉 Congratulations! Deal successfully closed!',\n              severity: 'success'\n            });\n          }\n          break;\n        case 'viewDetails':\n          console.log('👀 Viewing details for property:', property.id);\n          setSelectedProperty(property);\n          setShowPropertyDetails(true);\n          break;\n        default:\n          console.warn('❓ Unknown action:', action);\n          break;\n      }\n    } catch (error) {\n      console.error('💥 Property action error:', error);\n      setSnackbar({\n        open: true,\n        message: 'Action failed. Please try again.',\n        severity: 'error'\n      });\n    }\n  };\n  const PropertyCard = ({\n    property\n  }) => {\n    var _property$square_feet;\n    console.log('🎴 Rendering PropertyCard for:', property.id);\n    return /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        mb: 2,\n        borderLeft: property.dealStatus === 'closed' ? '4px solid #4caf50' : '4px solid #2196f3',\n        opacity: property.dealStatus === 'closed' ? 0.8 : 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'flex-start',\n            mb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            component: \"div\",\n            sx: {\n              flexGrow: 1\n            },\n            children: [\"\\uD83C\\uDFE0 \", property.address]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this), property.dealStatus === 'closed' && /*#__PURE__*/_jsxDEV(Chip, {\n            label: \"SOLD\",\n            color: \"success\",\n            size: \"small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          color: \"text.secondary\",\n          sx: {\n            mb: 1\n          },\n          children: [\"\\uD83D\\uDCCD \", property.city, \", \", property.state]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          sx: {\n            mb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 6,\n            sm: 3,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              color: \"success.main\",\n              children: [\"\\uD83D\\uDCB0 $\", property.price.toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 6,\n            sm: 3,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              children: [\"\\uD83D\\uDECF\\uFE0F \", property.bedrooms, \" bed\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 6,\n            sm: 3,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              children: [\"\\uD83D\\uDEC1 \", property.bathrooms, \" bath\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 6,\n            sm: 3,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              children: [\"\\uD83D\\uDCD0 \", (_property$square_feet = property.square_feet) === null || _property$square_feet === void 0 ? void 0 : _property$square_feet.toLocaleString(), \" sqft\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            flexWrap: 'wrap',\n            gap: 1,\n            mb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Chip, {\n            label: property.property_type,\n            variant: \"outlined\",\n            size: \"small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this), property.is_pet_friendly && /*#__PURE__*/_jsxDEV(Chip, {\n            label: \"\\uD83D\\uDC15 Pet Friendly\",\n            variant: \"outlined\",\n            size: \"small\",\n            color: \"secondary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 15\n          }, this), property.year_built && /*#__PURE__*/_jsxDEV(Chip, {\n            label: `Built ${property.year_built}`,\n            variant: \"outlined\",\n            size: \"small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this), property.showAmenities && property.amenitiesData && /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mt: 2,\n            p: 2,\n            bgcolor: 'grey.50',\n            borderRadius: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle2\",\n            sx: {\n              mb: 1,\n              fontWeight: 'bold'\n            },\n            children: \"\\uD83C\\uDFE2 Property Amenities:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 15\n          }, this), property.amenitiesData.amenities && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              flexWrap: 'wrap',\n              gap: 0.5\n            },\n            children: property.amenitiesData.amenities.map((amenity, index) => /*#__PURE__*/_jsxDEV(Chip, {\n              label: amenity,\n              size: \"small\",\n              variant: \"outlined\"\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 13\n        }, this), property.negotiationData && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: property.negotiationData.negotiation_status === 'accepted' ? 'success' : 'info',\n          sx: {\n            mt: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Negotiation Update:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 15\n          }, this), \" \", property.negotiationData.message || 'Offer under review']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n        sx: {\n          flexWrap: 'wrap',\n          gap: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          size: \"small\",\n          onClick: () => handlePropertyAction(property, 'viewDetails'),\n          children: \"\\u2139\\uFE0F View Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          size: \"small\",\n          onClick: () => handlePropertyAction(property, 'showAmenities'),\n          children: property.showAmenities ? '🔽 Hide Amenities' : '🔼 Show Amenities'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this), property.dealStatus !== 'closed' && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            size: \"small\",\n            variant: \"contained\",\n            onClick: () => handlePropertyAction(property, 'makeOffer'),\n            children: \"\\uD83D\\uDCB0 Make Offer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 15\n          }, this), property.negotiationStatus === 'accepted' && /*#__PURE__*/_jsxDEV(Button, {\n            size: \"small\",\n            color: \"success\",\n            variant: \"contained\",\n            onClick: () => handlePropertyAction(property, 'closeDeal'),\n            children: \"\\u2705 Close Deal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this);\n  };\n  console.log('🎨 Rendering ChatInterface component');\n  console.log('🎨 Current state - messages:', messages.length);\n  console.log('🎨 Current state - properties:', properties.length);\n  console.log('🎨 Current state - loading:', loading);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        height: '100vh',\n        py: 2,\n        display: 'flex',\n        flexDirection: 'column'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 3,\n        sx: {\n          flexGrow: 1,\n          display: 'flex',\n          flexDirection: 'column',\n          borderRadius: 2,\n          overflow: 'hidden'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            p: 2,\n            bgcolor: 'primary.main',\n            color: 'white',\n            display: 'flex',\n            alignItems: 'center'\n          },\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            children: \"\\uD83C\\uDFE0 AI Real Estate Assistant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            flexGrow: 1,\n            overflow: 'auto',\n            p: 2,\n            display: 'flex',\n            flexDirection: 'column'\n          },\n          children: [messages.map(message => {\n            console.log('💬 Rendering message:', message.id, message.sender);\n            return /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                justifyContent: message.sender === 'user' ? 'flex-end' : 'flex-start',\n                mb: 2,\n                alignItems: 'flex-start'\n              },\n              children: [message.sender === 'agent' && /*#__PURE__*/_jsxDEV(Avatar, {\n                sx: {\n                  bgcolor: 'secondary.main',\n                  width: 32,\n                  height: 32,\n                  mr: 1,\n                  mt: 0.5\n                },\n                children: \"AI\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Paper, {\n                sx: {\n                  p: 2,\n                  backgroundColor: message.sender === 'user' ? 'primary.light' : message.status === 'error' ? 'error.light' : 'grey.100',\n                  color: message.sender === 'user' ? 'white' : 'text.primary',\n                  maxWidth: '80%',\n                  borderRadius: 2,\n                  whiteSpace: 'pre-line'\n                },\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  children: message.text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 441,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 19\n              }, this), message.sender === 'user' && /*#__PURE__*/_jsxDEV(Avatar, {\n                sx: {\n                  bgcolor: 'primary.main',\n                  width: 32,\n                  height: 32,\n                  ml: 1,\n                  mt: 0.5\n                },\n                children: \"U\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 21\n              }, this)]\n            }, message.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 17\n            }, this);\n          }), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: messagesEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 11\n        }, this), properties.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            maxHeight: '400px',\n            overflow: 'auto',\n            px: 2,\n            pb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Divider, {\n            sx: {\n              mb: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            sx: {\n              mb: 2\n            },\n            children: [\"\\uD83C\\uDFE0 Found Properties (\", properties.length, \"):\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 15\n          }, this), properties.map(property => {\n            console.log('🏠 Rendering property card:', property.id);\n            return /*#__PURE__*/_jsxDEV(PropertyCard, {\n              property: property\n            }, property.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 24\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            p: 2,\n            borderTop: '1px solid',\n            borderColor: 'divider'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            component: \"form\",\n            onSubmit: handleSubmit,\n            sx: {\n              display: 'flex',\n              gap: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              value: input,\n              onChange: e => {\n                console.log('✏️ Input changed:', e.target.value);\n                setInput(e.target.value);\n              },\n              placeholder: \"Ask me about properties, amenities, negotiations, or closing deals...\",\n              disabled: loading,\n              variant: \"outlined\",\n              size: \"small\",\n              multiline: true,\n              maxRows: 3\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              variant: \"contained\",\n              disabled: loading || !input.trim(),\n              sx: {\n                minWidth: 'auto',\n                px: 2\n              },\n              onClick: () => console.log('🔘 Submit button clicked'),\n              children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 28\n              }, this) : '📤'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 1,\n              display: 'flex',\n              flexWrap: 'wrap',\n              gap: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Chip, {\n              label: \"\\uD83D\\uDD0D Search Properties\",\n              size: \"small\",\n              clickable: true,\n              onClick: () => {\n                console.log('🔍 Quick search clicked');\n                setInput(\"Find 2BHK apartments under $500K\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Chip, {\n              label: \"\\uD83D\\uDC15 Pet-Friendly Options\",\n              size: \"small\",\n              clickable: true,\n              onClick: () => {\n                console.log('🐕 Pet-friendly clicked');\n                setInput(\"Show pet-friendly properties\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Chip, {\n              label: \"\\u2728 Luxury Properties\",\n              size: \"small\",\n              clickable: true,\n              onClick: () => {\n                console.log('✨ Luxury clicked');\n                setInput(\"Find luxury condos with amenities\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n        open: showPropertyDetails,\n        onClose: () => setShowPropertyDetails(false),\n        maxWidth: \"md\",\n        fullWidth: true,\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          children: \"Property Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          children: selectedProperty && /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              children: selectedProperty.address\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 535,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              color: \"text.secondary\",\n              sx: {\n                mb: 2\n              },\n              children: [selectedProperty.city, \", \", selectedProperty.state]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 2,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(List, {\n                  dense: true,\n                  children: [/*#__PURE__*/_jsxDEV(ListItem, {\n                    children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                      primary: \"\\uD83D\\uDCB0 Price\",\n                      secondary: `$${selectedProperty.price.toLocaleString()}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 544,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 543,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n                    children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                      primary: \"\\uD83D\\uDECF\\uFE0F Bedrooms\",\n                      secondary: selectedProperty.bedrooms\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 547,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 546,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n                    children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                      primary: \"\\uD83D\\uDEC1 Bathrooms\",\n                      secondary: selectedProperty.bathrooms\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 550,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 549,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 542,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(List, {\n                  dense: true,\n                  children: [/*#__PURE__*/_jsxDEV(ListItem, {\n                    children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                      primary: \"\\uD83D\\uDCD0 Square Feet\",\n                      secondary: (_selectedProperty$squ = selectedProperty.square_feet) === null || _selectedProperty$squ === void 0 ? void 0 : _selectedProperty$squ.toLocaleString()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 557,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 556,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n                    children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                      primary: \"\\uD83C\\uDFE0 Property Type\",\n                      secondary: selectedProperty.property_type\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 560,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 559,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n                    children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                      primary: \"\\uD83D\\uDC15 Pet Friendly\",\n                      secondary: selectedProperty.is_pet_friendly ? 'Yes' : 'No'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 563,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 562,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 555,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 554,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 534,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setShowPropertyDetails(false),\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n        open: snackbar.open,\n        autoHideDuration: 6000,\n        onClose: () => setSnackbar({\n          ...snackbar,\n          open: false\n        }),\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          onClose: () => setSnackbar({\n            ...snackbar,\n            open: false\n          }),\n          severity: snackbar.severity,\n          sx: {\n            width: '100%'\n          },\n          children: snackbar.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 582,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 577,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 398,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatInterface, \"KPCgZXjde1u2I5FhwD9ZCcgTvWI=\");\n_c = ChatInterface;\nconsole.log('🎨 ChatInterface component defined, exporting...');\nexport default ChatInterface;\nvar _c;\n$RefreshReg$(_c, \"ChatInterface\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Box","TextField","Button","Paper","Typography","Container","CircularProgress","Card","CardContent","CardActions","Chip","Divider","Alert","Dialog","DialogTitle","DialogContent","DialogActions","Grid","Avatar","List","ListItem","ListItemText","Snackbar","RealEstateService","jsxDEV","_jsxDEV","Fragment","_Fragment","ChatInterface","_s","_selectedProperty$squ","console","log","messages","setMessages","input","setInput","loading","setLoading","properties","setProperties","selectedProperty","setSelectedProperty","showPropertyDetails","setShowPropertyDetails","snackbar","setSnackbar","open","message","severity","messagesEndRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","welcomeMessage","id","text","sender","timestamp","Date","toISOString","type","handleSubmit","e","preventDefault","trim","userMessage","length","prev","newMessages","currentInput","_response$data","response","chatQuery","status","data","agentMessage","processedProperties","map","p","showAmenities","negotiationStatus","error","name","stack","errorMessage","handlePropertyAction","property","action","getPropertyAmenities","amenitiesData","suggestedOffer","Math","round","price","toLocaleString","finalizeDeal","dealStatus","closingData","warn","PropertyCard","_property$square_feet","sx","mb","borderLeft","opacity","children","display","justifyContent","alignItems","variant","component","flexGrow","address","fileName","_jsxFileName","lineNumber","columnNumber","label","color","size","city","state","container","spacing","item","xs","sm","bedrooms","bathrooms","square_feet","flexWrap","gap","property_type","is_pet_friendly","year_built","mt","bgcolor","borderRadius","fontWeight","amenities","amenity","index","negotiationData","negotiation_status","onClick","maxWidth","height","py","flexDirection","elevation","overflow","width","mr","backgroundColor","whiteSpace","ml","ref","maxHeight","px","pb","borderTop","borderColor","onSubmit","fullWidth","value","onChange","target","placeholder","disabled","multiline","maxRows","minWidth","clickable","onClose","dense","primary","secondary","autoHideDuration","_c","$RefreshReg$"],"sources":["D:/FreeLance/Real-estate-agent/frontend/src/components/ChatInterface.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport {\r\n  Box,\r\n  TextField,\r\n  Button,\r\n  Paper,\r\n  Typography,\r\n  Container,\r\n  CircularProgress,\r\n  Card,\r\n  CardContent,\r\n  CardActions,\r\n  Chip,\r\n  Divider,\r\n  Alert,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Grid,\r\n  Avatar,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  Snackbar\r\n} from '@mui/material';\r\nimport RealEstateService from '../services/realEstateService';\r\n\r\nconst ChatInterface = () => {\r\n  console.log('🎨 =================================');\r\n  console.log('🎨 CHAT INTERFACE COMPONENT LOADING');\r\n  console.log('🎨 =================================');\r\n  \r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [properties, setProperties] = useState([]);\r\n  const [selectedProperty, setSelectedProperty] = useState(null);\r\n  const [showPropertyDetails, setShowPropertyDetails] = useState(false);\r\n  const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'info' });\r\n  const messagesEndRef = useRef(null);\r\n\r\n  console.log('🎨 Component state initialized');\r\n  console.log('🎨 RealEstateService available:', !!RealEstateService);\r\n\r\n  const scrollToBottom = () => {\r\n    console.log('📜 Scrolling to bottom');\r\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log('📜 Messages updated, scrolling to bottom');\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  useEffect(() => {\r\n    console.log('🎬 ChatInterface mounted, adding welcome message');\r\n    // Add enhanced welcome message\r\n    const welcomeMessage = {\r\n      id: 1,\r\n      text: \"👋 Welcome to AI Real Estate Assistant! I'm here to help you find your perfect home.\\n\\n🏠 I can help you with:\\n• Property searches with smart filtering\\n• Detailed amenities information\\n• Price negotiations\\n• Deal closing process\\n\\nTry asking: 'Find 2BHK apartments in San Francisco under $500K'\",\r\n      sender: 'agent',\r\n      timestamp: new Date().toISOString(),\r\n      type: 'welcome'\r\n    };\r\n    \r\n    console.log('🎬 Welcome message created:', welcomeMessage);\r\n    setMessages([welcomeMessage]);\r\n  }, []);\r\n\r\n  const handleSubmit = async (e) => {\r\n    console.log('📝 =================================');\r\n    console.log('📝 FORM SUBMIT STARTED');\r\n    console.log('📝 =================================');\r\n    \r\n    e.preventDefault();\r\n    console.log('📝 Event prevented');\r\n    console.log('📝 Current input value:', input);\r\n    console.log('📝 Input trimmed:', input.trim());\r\n    \r\n    if (!input.trim()) {\r\n      console.log('⚠️ Empty input, returning early');\r\n      return;\r\n    }\r\n\r\n    console.log('📝 Creating user message...');\r\n    const userMessage = {\r\n      id: messages.length + 1,\r\n      text: input,\r\n      sender: 'user',\r\n      timestamp: new Date().toISOString(),\r\n    };\r\n    console.log('📝 User message created:', userMessage);\r\n\r\n    console.log('📝 Updating messages state...');\r\n    setMessages((prev) => {\r\n      console.log('📝 Previous messages:', prev);\r\n      const newMessages = [...prev, userMessage];\r\n      console.log('📝 New messages array:', newMessages);\r\n      return newMessages;\r\n    });\r\n    \r\n    const currentInput = input;\r\n    console.log('📝 Saving current input:', currentInput);\r\n    console.log('📝 Clearing input field...');\r\n    setInput('');\r\n    \r\n    console.log('📝 Setting loading to true...');\r\n    setLoading(true);\r\n\r\n    try {\r\n      console.log('🚀 Starting API call...');\r\n      console.log('🚀 Calling RealEstateService.chatQuery with:', currentInput);\r\n      \r\n      // Call the service\r\n      const response = await RealEstateService.chatQuery(currentInput);\r\n      \r\n      console.log('✅ API call completed');\r\n      console.log('✅ Response received:', response);\r\n      console.log('✅ Response status:', response.status);\r\n      console.log('✅ Response message:', response.message);\r\n      console.log('✅ Response data:', response.data);\r\n      \r\n      const agentMessage = {\r\n        id: messages.length + 2,\r\n        text: response.message || \"I'm processing your request...\",\r\n        sender: 'agent',\r\n        timestamp: new Date().toISOString(),\r\n        data: response.data,\r\n        status: response.status\r\n      };\r\n      console.log('🤖 Agent message created:', agentMessage);\r\n\r\n      console.log('📝 Adding agent message to state...');\r\n      setMessages((prev) => {\r\n        console.log('📝 Previous messages before agent response:', prev);\r\n        const newMessages = [...prev, agentMessage];\r\n        console.log('📝 Messages after agent response:', newMessages);\r\n        return newMessages;\r\n      });\r\n\r\n      // Handle properties data\r\n      console.log('🏠 Checking for properties in response...');\r\n      if (response.data?.properties && response.data.properties.length > 0) {\r\n        console.log('🏠 Properties found:', response.data.properties.length);\r\n        console.log('🏠 First property:', response.data.properties[0]);\r\n        \r\n        const processedProperties = response.data.properties.map(p => ({ \r\n          ...p, \r\n          showAmenities: false,\r\n          negotiationStatus: 'none' \r\n        }));\r\n        console.log('🏠 Processed properties:', processedProperties);\r\n        \r\n        setProperties(processedProperties);\r\n        console.log('🏠 Properties state updated');\r\n      } else {\r\n        console.log('🏠 No properties found in response');\r\n      }\r\n\r\n      // Show success/error snackbar\r\n      if (response.status === 'error') {\r\n        console.log('⚠️ Error response detected, showing snackbar');\r\n        setSnackbar({ \r\n          open: true, \r\n          message: 'Something went wrong. Please try again.', \r\n          severity: 'error' \r\n        });\r\n      } else {\r\n        console.log('✅ Success response detected');\r\n      }\r\n\r\n    } catch (error) {\r\n      console.log('💥 =================================');\r\n      console.log('💥 HANDLE SUBMIT ERROR');\r\n      console.log('💥 =================================');\r\n      console.error('💥 Caught error in handleSubmit:', error);\r\n      console.error('💥 Error name:', error.name);\r\n      console.error('💥 Error message:', error.message);\r\n      console.error('💥 Error stack:', error.stack);\r\n      \r\n      const errorMessage = {\r\n        id: messages.length + 2,\r\n        text: '❌ Sorry, I encountered an error. Please try again or rephrase your question.',\r\n        sender: 'agent',\r\n        timestamp: new Date().toISOString(),\r\n        status: 'error'\r\n      };\r\n      console.log('💥 Error message created:', errorMessage);\r\n      \r\n      setMessages((prev) => [...prev, errorMessage]);\r\n      \r\n      setSnackbar({ \r\n        open: true, \r\n        message: 'Connection error. Please check your internet and try again.', \r\n        severity: 'error' \r\n      });\r\n    } finally {\r\n      console.log('🏁 Setting loading to false...');\r\n      setLoading(false);\r\n      console.log('🏁 Handle submit completed');\r\n    }\r\n  };\r\n\r\n  const handlePropertyAction = async (property, action, data = {}) => {\r\n    console.log('🏠 =================================');\r\n    console.log('🏠 PROPERTY ACTION STARTED');\r\n    console.log('🏠 =================================');\r\n    console.log('🏠 Property:', property);\r\n    console.log('🏠 Action:', action);\r\n    console.log('🏠 Data:', data);\r\n    \r\n    try {\r\n      let response;\r\n      \r\n      switch (action) {\r\n        case 'showAmenities':\r\n          console.log('🏢 Fetching amenities for property:', property.id);\r\n          response = await RealEstateService.getPropertyAmenities(property.id);\r\n          console.log('🏢 Amenities response:', response);\r\n          \r\n          if (response.status === 'success') {\r\n            console.log('🏢 Updating property amenities in state');\r\n            setProperties(prev => prev.map(p =>\r\n              p.id === property.id\r\n                ? { ...p, showAmenities: !p.showAmenities, amenitiesData: response.data }\r\n                : p\r\n            ));\r\n          }\r\n          break;\r\n          \r\n        case 'makeOffer':\r\n          const suggestedOffer = Math.round(property.price * 0.95);\r\n          console.log('💰 Making offer:', suggestedOffer);\r\n          setInput(`I want to make an offer of $${suggestedOffer.toLocaleString()} for property ${property.id}`);\r\n          break;\r\n          \r\n        case 'closeDeal':\r\n          console.log('🤝 Closing deal for property:', property.id);\r\n          response = await RealEstateService.finalizeDeal(property.id);\r\n          console.log('🤝 Deal response:', response);\r\n          \r\n          if (response.status === 'success') {\r\n            console.log('🤝 Updating property deal status');\r\n            setProperties(prev => prev.map(p =>\r\n              p.id === property.id\r\n                ? { ...p, dealStatus: 'closed', closingData: response.data }\r\n                : p\r\n            ));\r\n            \r\n            setSnackbar({ \r\n              open: true, \r\n              message: '🎉 Congratulations! Deal successfully closed!', \r\n              severity: 'success' \r\n            });\r\n          }\r\n          break;\r\n          \r\n        case 'viewDetails':\r\n          console.log('👀 Viewing details for property:', property.id);\r\n          setSelectedProperty(property);\r\n          setShowPropertyDetails(true);\r\n          break;\r\n          \r\n        default:\r\n          console.warn('❓ Unknown action:', action);\r\n          break;\r\n      }\r\n    } catch (error) {\r\n      console.error('💥 Property action error:', error);\r\n      setSnackbar({ \r\n        open: true, \r\n        message: 'Action failed. Please try again.', \r\n        severity: 'error' \r\n      });\r\n    }\r\n  };\r\n\r\n  const PropertyCard = ({ property }) => {\r\n    console.log('🎴 Rendering PropertyCard for:', property.id);\r\n    \r\n    return (\r\n      <Card \r\n        sx={{ \r\n          mb: 2, \r\n          borderLeft: property.dealStatus === 'closed' ? '4px solid #4caf50' : '4px solid #2196f3',\r\n          opacity: property.dealStatus === 'closed' ? 0.8 : 1\r\n        }}\r\n      >\r\n        <CardContent>\r\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', mb: 2 }}>\r\n            <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\r\n              🏠 {property.address}\r\n            </Typography>\r\n            {property.dealStatus === 'closed' && (\r\n              <Chip label=\"SOLD\" color=\"success\" size=\"small\" />\r\n            )}\r\n          </Box>\r\n          \r\n          <Typography color=\"text.secondary\" sx={{ mb: 1 }}>\r\n            📍 {property.city}, {property.state}\r\n          </Typography>\r\n\r\n          <Grid container spacing={2} sx={{ mb: 2 }}>\r\n            <Grid item xs={6} sm={3}>\r\n              <Typography variant=\"h6\" color=\"success.main\">\r\n                💰 ${property.price.toLocaleString()}\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={6} sm={3}>\r\n              <Typography>🛏️ {property.bedrooms} bed</Typography>\r\n            </Grid>\r\n            <Grid item xs={6} sm={3}>\r\n              <Typography>🛁 {property.bathrooms} bath</Typography>\r\n            </Grid>\r\n            <Grid item xs={6} sm={3}>\r\n              <Typography>📐 {property.square_feet?.toLocaleString()} sqft</Typography>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1, mb: 2 }}>\r\n            <Chip label={property.property_type} variant=\"outlined\" size=\"small\" />\r\n            {property.is_pet_friendly && (\r\n              <Chip label=\"🐕 Pet Friendly\" variant=\"outlined\" size=\"small\" color=\"secondary\" />\r\n            )}\r\n            {property.year_built && (\r\n              <Chip label={`Built ${property.year_built}`} variant=\"outlined\" size=\"small\" />\r\n            )}\r\n          </Box>\r\n\r\n          {property.showAmenities && property.amenitiesData && (\r\n            <Box sx={{ mt: 2, p: 2, bgcolor: 'grey.50', borderRadius: 1 }}>\r\n              <Typography variant=\"subtitle2\" sx={{ mb: 1, fontWeight: 'bold' }}>\r\n                🏢 Property Amenities:\r\n              </Typography>\r\n              {property.amenitiesData.amenities && (\r\n                <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5 }}>\r\n                  {property.amenitiesData.amenities.map((amenity, index) => (\r\n                    <Chip key={index} label={amenity} size=\"small\" variant=\"outlined\" />\r\n                  ))}\r\n                </Box>\r\n              )}\r\n            </Box>\r\n          )}\r\n\r\n          {property.negotiationData && (\r\n            <Alert \r\n              severity={property.negotiationData.negotiation_status === 'accepted' ? 'success' : 'info'}\r\n              sx={{ mt: 2 }}\r\n            >\r\n              <strong>Negotiation Update:</strong> {property.negotiationData.message || 'Offer under review'}\r\n            </Alert>\r\n          )}\r\n        </CardContent>\r\n\r\n        <CardActions sx={{ flexWrap: 'wrap', gap: 1 }}>\r\n          <Button size=\"small\" onClick={() => handlePropertyAction(property, 'viewDetails')}>\r\n            ℹ️ View Details\r\n          </Button>\r\n          \r\n          <Button size=\"small\" onClick={() => handlePropertyAction(property, 'showAmenities')}>\r\n            {property.showAmenities ? '🔽 Hide Amenities' : '🔼 Show Amenities'}\r\n          </Button>\r\n\r\n          {property.dealStatus !== 'closed' && (\r\n            <>\r\n              <Button\r\n                size=\"small\"\r\n                variant=\"contained\"\r\n                onClick={() => handlePropertyAction(property, 'makeOffer')}\r\n              >\r\n                💰 Make Offer\r\n              </Button>\r\n\r\n              {property.negotiationStatus === 'accepted' && (\r\n                <Button\r\n                  size=\"small\"\r\n                  color=\"success\"\r\n                  variant=\"contained\"\r\n                  onClick={() => handlePropertyAction(property, 'closeDeal')}\r\n                >\r\n                  ✅ Close Deal\r\n                </Button>\r\n              )}\r\n            </>\r\n          )}\r\n        </CardActions>\r\n      </Card>\r\n    );\r\n  };\r\n\r\n  console.log('🎨 Rendering ChatInterface component');\r\n  console.log('🎨 Current state - messages:', messages.length);\r\n  console.log('🎨 Current state - properties:', properties.length);\r\n  console.log('🎨 Current state - loading:', loading);\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\">\r\n      <Box sx={{ height: '100vh', py: 2, display: 'flex', flexDirection: 'column' }}>\r\n        <Paper elevation={3} sx={{ flexGrow: 1, display: 'flex', flexDirection: 'column', borderRadius: 2, overflow: 'hidden' }}>\r\n          \r\n          {/* Header */}\r\n          <Box sx={{ p: 2, bgcolor: 'primary.main', color: 'white', display: 'flex', alignItems: 'center' }}>\r\n            <Typography variant=\"h6\">🏠 AI Real Estate Assistant</Typography>\r\n          </Box>\r\n\r\n          {/* Messages Area */}\r\n          <Box sx={{ flexGrow: 1, overflow: 'auto', p: 2, display: 'flex', flexDirection: 'column' }}>\r\n            {messages.map((message) => {\r\n              console.log('💬 Rendering message:', message.id, message.sender);\r\n              return (\r\n                <Box\r\n                  key={message.id}\r\n                  sx={{\r\n                    display: 'flex',\r\n                    justifyContent: message.sender === 'user' ? 'flex-end' : 'flex-start',\r\n                    mb: 2,\r\n                    alignItems: 'flex-start'\r\n                  }}\r\n                >\r\n                  {message.sender === 'agent' && (\r\n                    <Avatar sx={{ bgcolor: 'secondary.main', width: 32, height: 32, mr: 1, mt: 0.5 }}>\r\n                      AI\r\n                    </Avatar>\r\n                  )}\r\n                  \r\n                  <Paper\r\n                    sx={{\r\n                      p: 2,\r\n                      backgroundColor: message.sender === 'user' \r\n                        ? 'primary.light' \r\n                        : message.status === 'error' \r\n                          ? 'error.light'\r\n                          : 'grey.100',\r\n                      color: message.sender === 'user' ? 'white' : 'text.primary',\r\n                      maxWidth: '80%',\r\n                      borderRadius: 2,\r\n                      whiteSpace: 'pre-line'\r\n                    }}\r\n                  >\r\n                    <Typography variant=\"body1\">{message.text}</Typography>\r\n                  </Paper>\r\n\r\n                  {message.sender === 'user' && (\r\n                    <Avatar sx={{ bgcolor: 'primary.main', width: 32, height: 32, ml: 1, mt: 0.5 }}>\r\n                      U\r\n                    </Avatar>\r\n                  )}\r\n                </Box>\r\n              );\r\n            })}\r\n            <div ref={messagesEndRef} />\r\n          </Box>\r\n\r\n          {/* Properties Display */}\r\n          {properties.length > 0 && (\r\n            <Box sx={{ maxHeight: '400px', overflow: 'auto', px: 2, pb: 2 }}>\r\n              <Divider sx={{ mb: 2 }} />\r\n              <Typography variant=\"h6\" sx={{ mb: 2 }}>\r\n                🏠 Found Properties ({properties.length}):\r\n              </Typography>\r\n              {properties.map((property) => {\r\n                console.log('🏠 Rendering property card:', property.id);\r\n                return <PropertyCard key={property.id} property={property} />;\r\n              })}\r\n            </Box>\r\n          )}\r\n\r\n          {/* Input Area */}\r\n          <Box sx={{ p: 2, borderTop: '1px solid', borderColor: 'divider' }}>\r\n            <Box component=\"form\" onSubmit={handleSubmit} sx={{ display: 'flex', gap: 1 }}>\r\n              <TextField\r\n                fullWidth\r\n                value={input}\r\n                onChange={(e) => {\r\n                  console.log('✏️ Input changed:', e.target.value);\r\n                  setInput(e.target.value);\r\n                }}\r\n                placeholder=\"Ask me about properties, amenities, negotiations, or closing deals...\"\r\n                disabled={loading}\r\n                variant=\"outlined\"\r\n                size=\"small\"\r\n                multiline\r\n                maxRows={3}\r\n              />\r\n              <Button \r\n                type=\"submit\" \r\n                variant=\"contained\" \r\n                disabled={loading || !input.trim()}\r\n                sx={{ minWidth: 'auto', px: 2 }}\r\n                onClick={() => console.log('🔘 Submit button clicked')}\r\n              >\r\n                {loading ? <CircularProgress size={24} /> : '📤'}\r\n              </Button>\r\n            </Box>\r\n            \r\n            <Box sx={{ mt: 1, display: 'flex', flexWrap: 'wrap', gap: 1 }}>\r\n              <Chip \r\n                label=\"🔍 Search Properties\" \r\n                size=\"small\" \r\n                clickable \r\n                onClick={() => {\r\n                  console.log('🔍 Quick search clicked');\r\n                  setInput(\"Find 2BHK apartments under $500K\");\r\n                }}\r\n              />\r\n              <Chip \r\n                label=\"🐕 Pet-Friendly Options\" \r\n                size=\"small\" \r\n                clickable \r\n                onClick={() => {\r\n                  console.log('🐕 Pet-friendly clicked');\r\n                  setInput(\"Show pet-friendly properties\");\r\n                }}\r\n              />\r\n              <Chip \r\n                label=\"✨ Luxury Properties\" \r\n                size=\"small\" \r\n                clickable \r\n                onClick={() => {\r\n                  console.log('✨ Luxury clicked');\r\n                  setInput(\"Find luxury condos with amenities\");\r\n                }}\r\n              />\r\n            </Box>\r\n          </Box>\r\n        </Paper>\r\n\r\n        {/* Property Details Modal */}\r\n        <Dialog open={showPropertyDetails} onClose={() => setShowPropertyDetails(false)} maxWidth=\"md\" fullWidth>\r\n          <DialogTitle>Property Details</DialogTitle>\r\n          <DialogContent>\r\n            {selectedProperty && (\r\n              <Box>\r\n                <Typography variant=\"h6\">{selectedProperty.address}</Typography>\r\n                <Typography color=\"text.secondary\" sx={{ mb: 2 }}>\r\n                  {selectedProperty.city}, {selectedProperty.state}\r\n                </Typography>\r\n                \r\n                <Grid container spacing={2}>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <List dense>\r\n                      <ListItem>\r\n                        <ListItemText primary=\"💰 Price\" secondary={`$${selectedProperty.price.toLocaleString()}`} />\r\n                      </ListItem>\r\n                      <ListItem>\r\n                        <ListItemText primary=\"🛏️ Bedrooms\" secondary={selectedProperty.bedrooms} />\r\n                      </ListItem>\r\n                      <ListItem>\r\n                        <ListItemText primary=\"🛁 Bathrooms\" secondary={selectedProperty.bathrooms} />\r\n                      </ListItem>\r\n                    </List>\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <List dense>\r\n                      <ListItem>\r\n                        <ListItemText primary=\"📐 Square Feet\" secondary={selectedProperty.square_feet?.toLocaleString()} />\r\n                      </ListItem>\r\n                      <ListItem>\r\n                        <ListItemText primary=\"🏠 Property Type\" secondary={selectedProperty.property_type} />\r\n                      </ListItem>\r\n                      <ListItem>\r\n                        <ListItemText primary=\"🐕 Pet Friendly\" secondary={selectedProperty.is_pet_friendly ? 'Yes' : 'No'} />\r\n                      </ListItem>\r\n                    </List>\r\n                  </Grid>\r\n                </Grid>\r\n              </Box>\r\n            )}\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={() => setShowPropertyDetails(false)}>Close</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        {/* Snackbar for notifications */}\r\n        <Snackbar\r\n          open={snackbar.open}\r\n          autoHideDuration={6000}\r\n          onClose={() => setSnackbar({ ...snackbar, open: false })}\r\n        >\r\n          <Alert onClose={() => setSnackbar({ ...snackbar, open: false })} severity={snackbar.severity} sx={{ width: '100%' }}>\r\n            {snackbar.message}\r\n          </Alert>\r\n        </Snackbar>\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconsole.log('🎨 ChatInterface component defined, exporting...');\r\nexport default ChatInterface;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}