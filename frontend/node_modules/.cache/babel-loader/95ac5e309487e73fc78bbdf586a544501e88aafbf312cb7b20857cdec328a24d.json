{"ast":null,"code":"var _jsxFileName = \"D:\\\\FreeLance\\\\Real-estate-agent\\\\frontend\\\\src\\\\components\\\\ChatInterface.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Box, TextField, Button, Paper, Typography, Container, CircularProgress, Card, CardContent, CardActions, Chip, Divider, Alert, Dialog, DialogTitle, DialogContent, DialogActions, Grid, Avatar, List, ListItem, ListItemText, Snackbar, Badge, Tooltip, IconButton, Accordion, AccordionSummary, AccordionDetails, LinearProgress, Stack } from '@mui/material';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport RealEstateService from '../services/realEstateService';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ChatInterface = () => {\n  _s();\n  var _selectedProperty$squ;\n  console.log('ðŸŽ¨ =================================');\n  console.log('ðŸŽ¨ CHAT INTERFACE COMPONENT LOADING');\n  console.log('ðŸŽ¨ =================================');\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [properties, setProperties] = useState([]);\n  const [selectedProperty, setSelectedProperty] = useState(null);\n  const [showPropertyDetails, setShowPropertyDetails] = useState(false);\n  const [snackbar, setSnackbar] = useState({\n    open: false,\n    message: '',\n    severity: 'info'\n  });\n  const [searchSuggestions, setSearchSuggestions] = useState([]);\n  const [actionLoading, setActionLoading] = useState({}); // Track loading state for each action\n  const messagesEndRef = useRef(null);\n  console.log('ðŸŽ¨ Component state initialized');\n  console.log('ðŸŽ¨ RealEstateService available:', !!RealEstateService);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    console.log('ðŸ“œ Scrolling to bottom');\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n  useEffect(() => {\n    console.log('ðŸ“œ Messages updated, scrolling to bottom');\n    scrollToBottom();\n  }, [messages]);\n  useEffect(() => {\n    console.log('ðŸŽ¬ ChatInterface mounted, adding welcome message');\n    const welcomeMessage = {\n      id: 1,\n      text: \"ðŸ‘‹ Welcome to AI Real Estate Assistant! I'm here to help you find your perfect home.\\n\\nðŸ  I can help you with:\\nâ€¢ Property searches with smart filtering\\nâ€¢ Detailed amenities information\\nâ€¢ Price negotiations\\nâ€¢ Deal closing process\\n\\nTry asking: 'Find 2BHK apartments in Dallas under $500K'\",\n      sender: 'agent',\n      timestamp: new Date().toISOString(),\n      type: 'welcome'\n    };\n    console.log('ðŸŽ¬ Welcome message created:', welcomeMessage);\n    setMessages([welcomeMessage]);\n  }, []);\n  const handleSubmit = async e => {\n    console.log('ðŸ“ =================================');\n    console.log('ðŸ“ FORM SUBMIT STARTED');\n    console.log('ðŸ“ =================================');\n    e.preventDefault();\n    console.log('ðŸ“ Event prevented');\n    console.log('ðŸ“ Current input value:', input);\n    console.log('ðŸ“ Input trimmed:', input.trim());\n    if (!input.trim()) {\n      console.log('âš ï¸ Empty input, returning early');\n      return;\n    }\n    console.log('ðŸ“ Creating user message...');\n    const userMessage = {\n      id: messages.length + 1,\n      text: input,\n      sender: 'user',\n      timestamp: new Date().toISOString()\n    };\n    console.log('ðŸ“ User message created:', userMessage);\n    console.log('ðŸ“ Updating messages state...');\n    setMessages(prev => {\n      console.log('ðŸ“ Previous messages:', prev);\n      const newMessages = [...prev, userMessage];\n      console.log('ðŸ“ New messages array:', newMessages);\n      return newMessages;\n    });\n    const currentInput = input;\n    console.log('ðŸ“ Saving current input:', currentInput);\n    console.log('ðŸ“ Clearing input field...');\n    setInput('');\n    console.log('ðŸ“ Setting loading to true...');\n    setLoading(true);\n    try {\n      var _response$data, _response$data2;\n      console.log('ðŸš€ Starting API call...');\n      console.log('ðŸš€ Calling RealEstateService.chatQuery with:', currentInput);\n\n      // Call the service\n      const response = await RealEstateService.chatQuery(currentInput);\n      console.log('âœ… API call completed');\n      console.log('âœ… Response received:', response);\n      console.log('âœ… Response status:', response.status);\n      console.log('âœ… Response message:', response.message);\n      console.log('âœ… Response data:', response.data);\n      const agentMessage = {\n        id: messages.length + 2,\n        text: response.message || \"I'm processing your request...\",\n        sender: 'agent',\n        timestamp: new Date().toISOString(),\n        data: response.data,\n        status: response.status\n      };\n      console.log('ðŸ¤– Agent message created:', agentMessage);\n      console.log('ðŸ“ Adding agent message to state...');\n      setMessages(prev => {\n        console.log('ðŸ“ Previous messages before agent response:', prev);\n        const newMessages = [...prev, agentMessage];\n        console.log('ðŸ“ Messages after agent response:', newMessages);\n        return newMessages;\n      });\n\n      // Enhanced property handling\n      console.log('ðŸ  Checking for properties in response...');\n      if ((_response$data = response.data) !== null && _response$data !== void 0 && _response$data.properties && response.data.properties.length > 0) {\n        console.log('ðŸ  Exact match properties found:', response.data.properties.length);\n        console.log('ðŸ  First property:', response.data.properties[0]);\n        const processedProperties = response.data.properties.map(p => ({\n          ...p,\n          showAmenities: false,\n          negotiationStatus: 'none',\n          isExactMatch: true,\n          amenitiesData: null,\n          negotiationData: null,\n          closingData: null\n        }));\n        console.log('ðŸ  Processed properties:', processedProperties);\n        setProperties(processedProperties);\n        setSearchSuggestions([]);\n        console.log('ðŸ  Properties state updated');\n      } else if (((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.alternative_count) > 0) {\n        // Handle alternative properties when no exact matches\n        console.log('ðŸ  No exact matches, but alternatives available:', response.data.alternative_count);\n        console.log('ðŸ  Suggestions:', response.data.suggestions);\n\n        // Store suggestions for display\n        setSearchSuggestions(response.data.suggestions || []);\n\n        // Try to get some alternative properties automatically\n        await fetchAlternativeProperties(currentInput, response.data);\n      } else {\n        var _response$data3;\n        console.log('ðŸ  No properties found in response');\n        setProperties([]);\n        setSearchSuggestions(((_response$data3 = response.data) === null || _response$data3 === void 0 ? void 0 : _response$data3.suggestions) || []);\n      }\n\n      // Show success/error snackbar\n      if (response.status === 'error') {\n        console.log('âš ï¸ Error response detected, showing snackbar');\n        setSnackbar({\n          open: true,\n          message: 'Something went wrong. Please try again.',\n          severity: 'error'\n        });\n      } else {\n        console.log('âœ… Success response detected');\n      }\n    } catch (error) {\n      console.log('ðŸ’¥ =================================');\n      console.log('ðŸ’¥ HANDLE SUBMIT ERROR');\n      console.log('ðŸ’¥ =================================');\n      console.error('ðŸ’¥ Caught error in handleSubmit:', error);\n      console.error('ðŸ’¥ Error name:', error.name);\n      console.error('ðŸ’¥ Error message:', error.message);\n      console.error('ðŸ’¥ Error stack:', error.stack);\n      const errorMessage = {\n        id: messages.length + 2,\n        text: 'âŒ Sorry, I encountered an error. Please try again or rephrase your question.',\n        sender: 'agent',\n        timestamp: new Date().toISOString(),\n        status: 'error'\n      };\n      console.log('ðŸ’¥ Error message created:', errorMessage);\n      setMessages(prev => [...prev, errorMessage]);\n      setSnackbar({\n        open: true,\n        message: 'Connection error. Please check your internet and try again.',\n        severity: 'error'\n      });\n    } finally {\n      console.log('ðŸ Setting loading to false...');\n      setLoading(false);\n      console.log('ðŸ Handle submit completed');\n    }\n  };\n  const fetchAlternativeProperties = async (originalQuery, responseData) => {\n    try {\n      console.log('ðŸ”„ Fetching alternative properties...');\n\n      // Generate alternative queries based on the original\n      const alternativeQueries = generateAlternativeQueries(originalQuery, responseData);\n      for (const altQuery of alternativeQueries) {\n        var _altResponse$data;\n        console.log('ðŸ”„ Trying alternative query:', altQuery);\n        const altResponse = await RealEstateService.chatQuery(altQuery);\n        if ((_altResponse$data = altResponse.data) !== null && _altResponse$data !== void 0 && _altResponse$data.properties && altResponse.data.properties.length > 0) {\n          console.log('ðŸ  Alternative properties found:', altResponse.data.properties.length);\n          const altProperties = altResponse.data.properties.map(p => ({\n            ...p,\n            showAmenities: false,\n            negotiationStatus: 'none',\n            isAlternative: true,\n            amenitiesData: null,\n            negotiationData: null,\n            closingData: null\n          }));\n          setProperties(altProperties);\n\n          // Add an info message about alternatives\n          const altMessage = {\n            id: Date.now(),\n            // Use timestamp for unique ID\n            text: `ðŸ’¡ Since no exact matches were found, here are ${altProperties.length} similar properties that might interest you:`,\n            sender: 'agent',\n            timestamp: new Date().toISOString(),\n            type: 'alternatives'\n          };\n          setMessages(prev => [...prev, altMessage]);\n          break; // Stop after finding the first successful alternative\n        }\n      }\n    } catch (error) {\n      console.log('âŒ Error fetching alternatives:', error);\n    }\n  };\n  const generateAlternativeQueries = (originalQuery, responseData) => {\n    const alternatives = [];\n\n    // If San Francisco, try other CA cities\n    if (originalQuery.toLowerCase().includes('san francisco')) {\n      alternatives.push(originalQuery.replace(/san francisco/i, 'Los Angeles'));\n      alternatives.push(originalQuery.replace(/san francisco/i, 'San Diego'));\n    }\n\n    // If under certain price, try higher prices\n    if (originalQuery.includes('$500K') || originalQuery.includes('500K')) {\n      alternatives.push(originalQuery.replace(/\\$?500K|\\$?500,000/i, '$600K'));\n      alternatives.push(originalQuery.replace(/\\$?500K|\\$?500,000/i, '$700K'));\n    }\n\n    // Try different cities entirely\n    alternatives.push(originalQuery.replace(/in \\w+( \\w+)?/, 'in Dallas'));\n    alternatives.push(originalQuery.replace(/in \\w+( \\w+)?/, 'in Houston'));\n    alternatives.push(originalQuery.replace(/under \\$\\d+K?/, 'under $600K'));\n\n    // Generic fallback\n    if (alternatives.length === 0) {\n      alternatives.push('Show me 2 bedroom apartments under $600K');\n      alternatives.push('Find available apartments with 2 bedrooms');\n    }\n    return alternatives.slice(0, 3); // Limit to 3 alternatives\n  };\n\n  // Enhanced handlePropertyAction with proper agent integration\n  const handlePropertyAction = async (property, action, data = {}) => {\n    console.log('ðŸ  =================================');\n    console.log('ðŸ  PROPERTY ACTION STARTED');\n    console.log('ðŸ  =================================');\n    console.log('ðŸ  Property:', property);\n    console.log('ðŸ  Action:', action);\n    console.log('ðŸ  Data:', data);\n\n    // Set loading state for this specific action\n    const actionKey = `${property.id}-${action}`;\n    setActionLoading(prev => ({\n      ...prev,\n      [actionKey]: true\n    }));\n    try {\n      let response;\n      let agentMessage;\n      switch (action) {\n        case 'viewDetails':\n          console.log('ðŸ‘€ Invoking Details Agent for property:', property.id);\n\n          // Add immediate feedback message\n          agentMessage = {\n            id: Date.now(),\n            text: `ðŸ” Let me get detailed information about the property at ${property.address}...`,\n            sender: 'agent',\n            timestamp: new Date().toISOString(),\n            type: 'processing'\n          };\n          setMessages(prev => [...prev, agentMessage]);\n\n          // Open modal and add detailed agent response\n          setSelectedProperty(property);\n          setShowPropertyDetails(true);\n\n          // Generate intelligent property analysis\n          const detailsResponse = await RealEstateService.chatQuery(`Provide detailed analysis and insights for this property: ${property.address}, ${property.city}, ${property.state}. Price: $${property.price}, ${property.bedrooms} bed, ${property.bathrooms} bath, ${property.square_feet} sqft, built in ${property.year_built}`);\n          const detailsMessage = {\n            id: Date.now() + 1,\n            text: detailsResponse.message || `Here's what I found about ${property.address}: This ${property.property_type} offers great value in ${property.city}. Built in ${property.year_built}, it features ${property.bedrooms} bedrooms and ${property.bathrooms} bathrooms in ${property.square_feet} square feet.`,\n            sender: 'agent',\n            timestamp: new Date().toISOString(),\n            type: 'property_details'\n          };\n          setMessages(prev => [...prev, detailsMessage]);\n          break;\n        case 'showAmenities':\n          console.log('ðŸ¢ Invoking Amenities Agent for property:', property.id);\n\n          // Add immediate feedback\n          agentMessage = {\n            id: Date.now(),\n            text: `ðŸ¢ Analyzing amenities and nearby facilities for ${property.address}...`,\n            sender: 'agent',\n            timestamp: new Date().toISOString(),\n            type: 'processing'\n          };\n          setMessages(prev => [...prev, agentMessage]);\n\n          // Call amenities agent\n          response = await RealEstateService.getPropertyAmenities(property.id);\n          console.log('ðŸ¢ Amenities response:', response);\n          if (response.status === 'success') {\n            console.log('ðŸ¢ Updating property amenities in state');\n            setProperties(prev => prev.map(p => p.id === property.id ? {\n              ...p,\n              showAmenities: !p.showAmenities,\n              amenitiesData: response.data\n            } : p));\n\n            // Add detailed amenities message\n            const amenitiesMessage = {\n              id: Date.now() + 1,\n              text: response.message || `ðŸ¢ Here are the amenities and nearby facilities for ${property.address}. This property offers excellent access to local services and recreational facilities.`,\n              sender: 'agent',\n              timestamp: new Date().toISOString(),\n              type: 'amenities',\n              data: response.data\n            };\n            setMessages(prev => [...prev, amenitiesMessage]);\n          }\n          break;\n        case 'makeOffer':\n          console.log('ðŸ’° Invoking Negotiation Agent for property:', property.id);\n          const suggestedOffer = Math.round(property.price * 0.95);\n\n          // Add immediate feedback\n          agentMessage = {\n            id: Date.now(),\n            text: `ðŸ’° Preparing negotiation strategy for ${property.address}. Analyzing market conditions and suggesting competitive offer...`,\n            sender: 'agent',\n            timestamp: new Date().toISOString(),\n            type: 'processing'\n          };\n          setMessages(prev => [...prev, agentMessage]);\n\n          // Auto-populate input with suggested offer\n          setInput(`I want to make an offer of $${suggestedOffer.toLocaleString()} for property ${property.id}`);\n\n          // Call negotiation agent for market analysis\n          response = await RealEstateService.negotiatePrice(property.id, suggestedOffer);\n          console.log('ðŸ’° Negotiation response:', response);\n          if (response.status === 'success') {\n            setProperties(prev => prev.map(p => p.id === property.id ? {\n              ...p,\n              negotiationStatus: response.data.negotiation_status,\n              negotiationData: response.data\n            } : p));\n            const negotiationMessage = {\n              id: Date.now() + 1,\n              text: response.message || `ðŸ’° I've analyzed the market for ${property.address}. Based on current conditions, here's my recommendation for your offer strategy.`,\n              sender: 'agent',\n              timestamp: new Date().toISOString(),\n              data: response.data,\n              type: 'negotiation'\n            };\n            setMessages(prev => [...prev, negotiationMessage]);\n          }\n          break;\n        case 'negotiate':\n          console.log('ðŸ’° Processing negotiation for property:', property.id);\n          const offerAmount = data.offer || Math.round(property.price * 0.95);\n          agentMessage = {\n            id: Date.now(),\n            text: `ðŸ¤ Submitting your offer of $${offerAmount.toLocaleString()} to the seller and analyzing their response...`,\n            sender: 'agent',\n            timestamp: new Date().toISOString(),\n            type: 'processing'\n          };\n          setMessages(prev => [...prev, agentMessage]);\n          response = await RealEstateService.negotiatePrice(property.id, offerAmount);\n          console.log('ðŸ’° Negotiation response:', response);\n          if (response.status === 'success') {\n            console.log('ðŸ’° Updating negotiation status');\n            setProperties(prev => prev.map(p => p.id === property.id ? {\n              ...p,\n              negotiationStatus: response.data.negotiation_status,\n              negotiationData: response.data\n            } : p));\n            const negotiationMessage = {\n              id: Date.now() + 1,\n              text: response.message,\n              sender: 'agent',\n              timestamp: new Date().toISOString(),\n              data: response.data,\n              type: 'negotiation'\n            };\n            setMessages(prev => [...prev, negotiationMessage]);\n          }\n          break;\n        case 'closeDeal':\n          console.log('ðŸ¤ Invoking Deal Closing Agent for property:', property.id);\n          agentMessage = {\n            id: Date.now(),\n            text: `ðŸ¤ Initiating deal closing process for ${property.address}. Preparing contracts and coordinating with all parties...`,\n            sender: 'agent',\n            timestamp: new Date().toISOString(),\n            type: 'processing'\n          };\n          setMessages(prev => [...prev, agentMessage]);\n          response = await RealEstateService.finalizeDeal(property.id);\n          console.log('ðŸ¤ Deal response:', response);\n          if (response.status === 'success') {\n            console.log('ðŸ¤ Updating property deal status');\n            setProperties(prev => prev.map(p => p.id === property.id ? {\n              ...p,\n              dealStatus: 'closed',\n              closingData: response.data\n            } : p));\n            const closingMessage = {\n              id: Date.now() + 1,\n              text: response.message || `ðŸŽ‰ Congratulations! The deal for ${property.address} has been successfully closed. Welcome to your new home!`,\n              sender: 'agent',\n              timestamp: new Date().toISOString(),\n              data: response.data,\n              type: 'closing'\n            };\n            setMessages(prev => [...prev, closingMessage]);\n            setSnackbar({\n              open: true,\n              message: 'ðŸŽ‰ Congratulations! Deal successfully closed!',\n              severity: 'success'\n            });\n          }\n          break;\n        default:\n          console.warn('â“ Unknown action:', action);\n          break;\n      }\n    } catch (error) {\n      console.error('ðŸ’¥ Property action error:', error);\n      const errorMessage = {\n        id: Date.now(),\n        text: `âŒ Sorry, I encountered an issue while processing your ${action} request. Please try again.`,\n        sender: 'agent',\n        timestamp: new Date().toISOString(),\n        type: 'error'\n      };\n      setMessages(prev => [...prev, errorMessage]);\n      setSnackbar({\n        open: true,\n        message: 'Action failed. Please try again.',\n        severity: 'error'\n      });\n    } finally {\n      // Clear loading state\n      setActionLoading(prev => {\n        const newState = {\n          ...prev\n        };\n        delete newState[actionKey];\n        return newState;\n      });\n    }\n  };\n  const handleSuggestionClick = suggestion => {\n    console.log('ðŸ’¡ Suggestion clicked:', suggestion);\n\n    // Convert suggestion to a searchable query\n    let query = '';\n    if (suggestion.includes('budget')) {\n      query = input.replace(/under \\$\\d+K?/i, 'under $600K');\n    } else if (suggestion.includes('nearby')) {\n      query = input.replace(/in \\w+( \\w+)?/i, 'in nearby areas');\n    } else {\n      query = suggestion;\n    }\n    setInput(query);\n  };\n  const PropertyCard = ({\n    property\n  }) => {\n    var _property$square_feet;\n    console.log('ðŸŽ´ Rendering PropertyCard for:', property.id);\n    const isActionLoading = action => actionLoading[`${property.id}-${action}`];\n    return /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        mb: 2,\n        borderLeft: property.dealStatus === 'closed' ? '4px solid #4caf50' : property.isAlternative ? '4px solid #ff9800' : '4px solid #2196f3',\n        opacity: property.dealStatus === 'closed' ? 0.8 : 1,\n        position: 'relative'\n      },\n      children: [property.isAlternative && /*#__PURE__*/_jsxDEV(Chip, {\n        label: \"Similar Property\",\n        size: \"small\",\n        color: \"warning\",\n        sx: {\n          position: 'absolute',\n          top: 8,\n          right: 8,\n          zIndex: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 580,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'flex-start',\n            mb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            component: \"div\",\n            sx: {\n              flexGrow: 1,\n              pr: 2\n            },\n            children: [\"\\uD83C\\uDFE0 \", property.address]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 590,\n            columnNumber: 13\n          }, this), property.dealStatus === 'closed' && /*#__PURE__*/_jsxDEV(Chip, {\n            label: \"SOLD\",\n            color: \"success\",\n            size: \"small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 594,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 589,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          color: \"text.secondary\",\n          sx: {\n            mb: 1\n          },\n          children: [\"\\uD83D\\uDCCD \", property.city, \", \", property.state]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 598,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          sx: {\n            mb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 6,\n            sm: 3,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              color: \"success.main\",\n              children: [\"\\uD83D\\uDCB0 $\", property.price.toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 604,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 6,\n            sm: 3,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              children: [\"\\uD83D\\uDECF\\uFE0F \", property.bedrooms, \" bed\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 609,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 608,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 6,\n            sm: 3,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              children: [\"\\uD83D\\uDEC1 \", property.bathrooms, \" bath\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 612,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 611,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 6,\n            sm: 3,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              children: [\"\\uD83D\\uDCD0 \", (_property$square_feet = property.square_feet) === null || _property$square_feet === void 0 ? void 0 : _property$square_feet.toLocaleString(), \" sqft\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 615,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 614,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            flexWrap: 'wrap',\n            gap: 1,\n            mb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Chip, {\n            label: property.property_type,\n            variant: \"outlined\",\n            size: \"small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 620,\n            columnNumber: 13\n          }, this), property.is_pet_friendly && /*#__PURE__*/_jsxDEV(Chip, {\n            label: \"\\uD83D\\uDC15 Pet Friendly\",\n            variant: \"outlined\",\n            size: \"small\",\n            color: \"secondary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 622,\n            columnNumber: 15\n          }, this), property.year_built && /*#__PURE__*/_jsxDEV(Chip, {\n            label: `Built ${property.year_built}`,\n            variant: \"outlined\",\n            size: \"small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 625,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 619,\n          columnNumber: 11\n        }, this), property.showAmenities && property.amenitiesData && /*#__PURE__*/_jsxDEV(Accordion, {\n          sx: {\n            mt: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(AccordionSummary, {\n            expandIcon: /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 45\n            }, this),\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle2\",\n              sx: {\n                fontWeight: 'bold'\n              },\n              children: \"\\uD83C\\uDFE2 Property Amenities & Nearby Facilities\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 633,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 632,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(AccordionDetails, {\n            children: [property.amenitiesData.amenities && /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                sx: {\n                  mb: 1,\n                  fontWeight: 'bold'\n                },\n                children: \"Building Amenities:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 640,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  flexWrap: 'wrap',\n                  gap: 0.5\n                },\n                children: property.amenitiesData.amenities.slice(0, 8).map((amenity, index) => /*#__PURE__*/_jsxDEV(Chip, {\n                  label: amenity,\n                  size: \"small\",\n                  variant: \"outlined\"\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 643,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 641,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 639,\n              columnNumber: 19\n            }, this), property.nearby_amenities && /*#__PURE__*/_jsxDEV(Box, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                sx: {\n                  mb: 1,\n                  fontWeight: 'bold'\n                },\n                children: \"Nearby Facilities:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 651,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                spacing: 1,\n                children: Object.entries(property.nearby_amenities).map(([category, info]) => /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  sm: 6,\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"caption\",\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: [category.charAt(0).toUpperCase() + category.slice(1), \":\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 656,\n                      columnNumber: 29\n                    }, this), \" \", info.name, \" (\", info.distance, \" mi)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 655,\n                    columnNumber: 27\n                  }, this)\n                }, category, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 654,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 652,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 650,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 637,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 631,\n          columnNumber: 13\n        }, this), property.negotiationData && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: property.negotiationData.negotiation_status === 'accepted' ? 'success' : 'info',\n          sx: {\n            mt: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Negotiation Update:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 673,\n            columnNumber: 15\n          }, this), \" \", property.negotiationData.message || 'Offer under review', property.negotiationData.counter_offer && /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            sx: {\n              mt: 1\n            },\n            children: [\"Counter Offer: $\", property.negotiationData.counter_offer.toLocaleString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 675,\n            columnNumber: 17\n          }, this), property.negotiationData.next_steps && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              sx: {\n                fontWeight: 'bold'\n              },\n              children: \"Next Steps:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 681,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(List, {\n              dense: true,\n              children: property.negotiationData.next_steps.slice(0, 3).map((step, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n                sx: {\n                  py: 0.5\n                },\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  children: [\"\\u2022 \", step]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 685,\n                  columnNumber: 25\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 684,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 682,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 680,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 669,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 588,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n        sx: {\n          flexWrap: 'wrap',\n          gap: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          size: \"small\",\n          onClick: () => handlePropertyAction(property, 'viewDetails'),\n          disabled: isActionLoading('viewDetails'),\n          startIcon: isActionLoading('viewDetails') ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 700,\n            columnNumber: 57\n          }, this) : null,\n          children: isActionLoading('viewDetails') ? 'Loading...' : 'â„¹ï¸ View Details'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 696,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          size: \"small\",\n          onClick: () => handlePropertyAction(property, 'showAmenities'),\n          disabled: isActionLoading('showAmenities'),\n          startIcon: isActionLoading('showAmenities') ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 709,\n            columnNumber: 59\n          }, this) : null,\n          children: isActionLoading('showAmenities') ? 'Loading...' : property.showAmenities ? 'ðŸ”½ Hide Amenities' : 'ðŸ”¼ Show Amenities'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 705,\n          columnNumber: 11\n        }, this), property.dealStatus !== 'closed' && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            size: \"small\",\n            variant: \"contained\",\n            onClick: () => handlePropertyAction(property, 'makeOffer'),\n            disabled: isActionLoading('makeOffer'),\n            startIcon: isActionLoading('makeOffer') ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 725,\n              columnNumber: 59\n            }, this) : null,\n            children: isActionLoading('makeOffer') ? 'Analyzing...' : 'ðŸ’° Make Offer'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 720,\n            columnNumber: 15\n          }, this), property.negotiationStatus === 'accepted' && /*#__PURE__*/_jsxDEV(Button, {\n            size: \"small\",\n            color: \"success\",\n            variant: \"contained\",\n            onClick: () => handlePropertyAction(property, 'closeDeal'),\n            disabled: isActionLoading('closeDeal'),\n            startIcon: isActionLoading('closeDeal') ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 737,\n              columnNumber: 61\n            }, this) : null,\n            children: isActionLoading('closeDeal') ? 'Processing...' : 'âœ… Close Deal'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 731,\n            columnNumber: 17\n          }, this), property.negotiationStatus === 'counter_offered' && /*#__PURE__*/_jsxDEV(Button, {\n            size: \"small\",\n            color: \"warning\",\n            variant: \"contained\",\n            onClick: () => {\n              var _property$negotiation;\n              return handlePropertyAction(property, 'negotiate', {\n                offer: (_property$negotiation = property.negotiationData) === null || _property$negotiation === void 0 ? void 0 : _property$negotiation.counter_offer\n              });\n            },\n            disabled: isActionLoading('negotiate'),\n            children: \"\\uD83E\\uDD1D Accept Counter\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 744,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 695,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 567,\n      columnNumber: 7\n    }, this);\n  };\n  console.log('ðŸŽ¨ Rendering ChatInterface component');\n  console.log('ðŸŽ¨ Current state - messages:', messages.length);\n  console.log('ðŸŽ¨ Current state - properties:', properties.length);\n  console.log('ðŸŽ¨ Current state - loading:', loading);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        height: '100vh',\n        py: 2,\n        display: 'flex',\n        flexDirection: 'column'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 3,\n        sx: {\n          flexGrow: 1,\n          display: 'flex',\n          flexDirection: 'column',\n          borderRadius: 2,\n          overflow: 'hidden'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            p: 2,\n            bgcolor: 'primary.main',\n            color: 'white',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'space-between'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            children: \"\\uD83C\\uDFE0 AI Real Estate Assistant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 775,\n            columnNumber: 13\n          }, this), properties.length > 0 && /*#__PURE__*/_jsxDEV(Badge, {\n            badgeContent: properties.length,\n            color: \"secondary\",\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: \"Properties\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 778,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 777,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 774,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            flexGrow: 1,\n            overflow: 'auto',\n            p: 2,\n            display: 'flex',\n            flexDirection: 'column'\n          },\n          children: [messages.map(message => {\n            var _message$data$amenity, _message$data$market_;\n            console.log('ðŸ’¬ Rendering message:', message.id, message.sender);\n            return /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                justifyContent: message.sender === 'user' ? 'flex-end' : 'flex-start',\n                mb: 2,\n                alignItems: 'flex-start'\n              },\n              children: [message.sender === 'agent' && /*#__PURE__*/_jsxDEV(Avatar, {\n                sx: {\n                  bgcolor: message.type === 'processing' ? 'warning.main' : 'secondary.main',\n                  width: 32,\n                  height: 32,\n                  mr: 1,\n                  mt: 0.5\n                },\n                children: message.type === 'processing' ? 'âš¡' : 'AI'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 798,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Paper, {\n                sx: {\n                  p: 2,\n                  backgroundColor: message.sender === 'user' ? 'primary.light' : message.status === 'error' ? 'error.light' : message.type === 'alternatives' ? 'warning.light' : message.type === 'processing' ? 'info.light' : 'grey.100',\n                  color: message.sender === 'user' ? 'white' : 'text.primary',\n                  maxWidth: '80%',\n                  borderRadius: 2,\n                  whiteSpace: 'pre-line'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  children: message.text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 827,\n                  columnNumber: 21\n                }, this), message.type === 'amenities' && message.data && /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    mt: 1,\n                    p: 1,\n                    bgcolor: 'rgba(255,255,255,0.1)',\n                    borderRadius: 1\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"caption\",\n                    children: [\"\\u2728 Amenity Score: \", (_message$data$amenity = message.data.amenity_score) === null || _message$data$amenity === void 0 ? void 0 : _message$data$amenity.rating, \"/5.0\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 832,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 831,\n                  columnNumber: 23\n                }, this), message.type === 'negotiation' && message.data && /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    mt: 1,\n                    p: 1,\n                    bgcolor: 'rgba(255,255,255,0.1)',\n                    borderRadius: 1\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"caption\",\n                    children: [\"\\uD83D\\uDCB0 Market Analysis: \", (_message$data$market_ = message.data.market_insights) === null || _message$data$market_ === void 0 ? void 0 : _message$data$market_.price_trend, \" trend\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 840,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 839,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 809,\n                columnNumber: 19\n              }, this), message.sender === 'user' && /*#__PURE__*/_jsxDEV(Avatar, {\n                sx: {\n                  bgcolor: 'primary.main',\n                  width: 32,\n                  height: 32,\n                  ml: 1,\n                  mt: 0.5\n                },\n                children: \"U\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 848,\n                columnNumber: 21\n              }, this)]\n            }, message.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 788,\n              columnNumber: 17\n            }, this);\n          }), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: messagesEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 855,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 784,\n          columnNumber: 11\n        }, this), searchSuggestions.length > 0 && properties.length === 0 && /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            px: 2,\n            pb: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle2\",\n            sx: {\n              mb: 1,\n              fontWeight: 'bold'\n            },\n            children: \"\\uD83D\\uDCA1 Try these suggestions:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 861,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              flexWrap: 'wrap',\n              gap: 1\n            },\n            children: searchSuggestions.map((suggestion, index) => /*#__PURE__*/_jsxDEV(Chip, {\n              label: suggestion,\n              variant: \"outlined\",\n              size: \"small\",\n              clickable: true,\n              onClick: () => handleSuggestionClick(suggestion),\n              sx: {\n                cursor: 'pointer'\n              }\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 866,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 864,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 860,\n          columnNumber: 13\n        }, this), properties.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            maxHeight: '400px',\n            overflow: 'auto',\n            px: 2,\n            pb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Divider, {\n            sx: {\n              mb: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 883,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'space-between',\n              mb: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              children: [\"\\uD83C\\uDFE0 \", properties.some(p => p.isAlternative) ? 'Similar' : 'Found', \" Properties (\", properties.length, \"):\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 885,\n              columnNumber: 17\n            }, this), properties.some(p => p.isAlternative) && /*#__PURE__*/_jsxDEV(Chip, {\n              label: \"Alternative Results\",\n              color: \"warning\",\n              size: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 889,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 884,\n            columnNumber: 15\n          }, this), properties.map(property => {\n            console.log('ðŸ  Rendering property card:', property.id);\n            return /*#__PURE__*/_jsxDEV(PropertyCard, {\n              property: property\n            }, property.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 894,\n              columnNumber: 24\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 882,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            p: 2,\n            borderTop: '1px solid',\n            borderColor: 'divider'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            component: \"form\",\n            onSubmit: handleSubmit,\n            sx: {\n              display: 'flex',\n              gap: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              value: input,\n              onChange: e => {\n                console.log('âœï¸ Input changed:', e.target.value);\n                setInput(e.target.value);\n              },\n              placeholder: \"Ask me about properties, amenities, negotiations, or closing deals...\",\n              disabled: loading,\n              variant: \"outlined\",\n              size: \"small\",\n              multiline: true,\n              maxRows: 3\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 902,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              variant: \"contained\",\n              disabled: loading || !input.trim(),\n              sx: {\n                minWidth: 'auto',\n                px: 2\n              },\n              onClick: () => console.log('ðŸ”˜ Submit button clicked'),\n              children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 923,\n                columnNumber: 28\n              }, this) : 'ðŸ“¤'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 916,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 901,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 1,\n              display: 'flex',\n              flexWrap: 'wrap',\n              gap: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Chip, {\n              label: \"\\uD83D\\uDD0D Search Dallas Properties\",\n              size: \"small\",\n              clickable: true,\n              onClick: () => {\n                console.log('ðŸ” Quick search clicked');\n                setInput(\"Find 2BHK apartments in Dallas under $500K\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 928,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Chip, {\n              label: \"\\uD83D\\uDC15 Pet-Friendly Options\",\n              size: \"small\",\n              clickable: true,\n              onClick: () => {\n                console.log('ðŸ• Pet-friendly clicked');\n                setInput(\"Show pet-friendly properties\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 937,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Chip, {\n              label: \"\\u2728 Luxury Properties\",\n              size: \"small\",\n              clickable: true,\n              onClick: () => {\n                console.log('âœ¨ Luxury clicked');\n                setInput(\"Find luxury condos with amenities\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 946,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Chip, {\n              label: \"\\uD83C\\uDFE0 General Search\",\n              size: \"small\",\n              clickable: true,\n              onClick: () => {\n                console.log('ðŸ  General search clicked');\n                setInput(\"Show me available 2 bedroom apartments\");\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 955,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 927,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 900,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 771,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n        open: showPropertyDetails,\n        onClose: () => setShowPropertyDetails(false),\n        maxWidth: \"md\",\n        fullWidth: true,\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          children: \"Property Details & Analysis\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 970,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          children: selectedProperty && /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              children: selectedProperty.address\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 974,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              color: \"text.secondary\",\n              sx: {\n                mb: 2\n              },\n              children: [selectedProperty.city, \", \", selectedProperty.state]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 975,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 2,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(List, {\n                  dense: true,\n                  children: [/*#__PURE__*/_jsxDEV(ListItem, {\n                    children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                      primary: \"\\uD83D\\uDCB0 Price\",\n                      secondary: `$${selectedProperty.price.toLocaleString()}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 983,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 982,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n                    children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                      primary: \"\\uD83D\\uDECF\\uFE0F Bedrooms\",\n                      secondary: selectedProperty.bedrooms\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 986,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 985,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n                    children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                      primary: \"\\uD83D\\uDEC1 Bathrooms\",\n                      secondary: selectedProperty.bathrooms\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 989,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 988,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n                    children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                      primary: \"\\uD83D\\uDCC5 Year Built\",\n                      secondary: selectedProperty.year_built\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 992,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 991,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 981,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 980,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(List, {\n                  dense: true,\n                  children: [/*#__PURE__*/_jsxDEV(ListItem, {\n                    children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                      primary: \"\\uD83D\\uDCD0 Square Feet\",\n                      secondary: (_selectedProperty$squ = selectedProperty.square_feet) === null || _selectedProperty$squ === void 0 ? void 0 : _selectedProperty$squ.toLocaleString()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 999,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 998,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n                    children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                      primary: \"\\uD83C\\uDFE0 Property Type\",\n                      secondary: selectedProperty.property_type\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1002,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1001,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n                    children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                      primary: \"\\uD83D\\uDC15 Pet Friendly\",\n                      secondary: selectedProperty.is_pet_friendly ? 'Yes' : 'No'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1005,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1004,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n                    children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                      primary: \"\\uD83D\\uDCCD Lot Size\",\n                      secondary: `${selectedProperty.lot_size} acres`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1008,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1007,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 997,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 996,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 979,\n              columnNumber: 17\n            }, this), selectedProperty.nearby_amenities && Object.keys(selectedProperty.nearby_amenities).length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mt: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                sx: {\n                  mb: 1\n                },\n                children: \"Nearby Amenities:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1017,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                spacing: 1,\n                children: Object.entries(selectedProperty.nearby_amenities).map(([category, info]) => /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  sm: 6,\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: [category.charAt(0).toUpperCase() + category.slice(1), \":\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1022,\n                      columnNumber: 29\n                    }, this), \" \", info.name, \" (\", info.distance, \" mi)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1021,\n                    columnNumber: 27\n                  }, this)\n                }, category, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1020,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1018,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1016,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 973,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 971,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setShowPropertyDetails(false),\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1033,\n            columnNumber: 13\n          }, this), selectedProperty && /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            onClick: () => {\n              setShowPropertyDetails(false);\n              handlePropertyAction(selectedProperty, 'makeOffer');\n            },\n            children: \"Make Offer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1035,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1032,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 969,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n        open: snackbar.open,\n        autoHideDuration: 6000,\n        onClose: () => setSnackbar({\n          ...snackbar,\n          open: false\n        }),\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          onClose: () => setSnackbar({\n            ...snackbar,\n            open: false\n          }),\n          severity: snackbar.severity,\n          sx: {\n            width: '100%'\n          },\n          children: snackbar.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1054,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1049,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 770,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 769,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatInterface, \"EimkCEnkWFg7c1uNckA5d8qSggU=\");\n_c = ChatInterface;\nconsole.log('ðŸŽ¨ ChatInterface component defined, exporting...');\nexport default ChatInterface;\nvar _c;\n$RefreshReg$(_c, \"ChatInterface\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Box","TextField","Button","Paper","Typography","Container","CircularProgress","Card","CardContent","CardActions","Chip","Divider","Alert","Dialog","DialogTitle","DialogContent","DialogActions","Grid","Avatar","List","ListItem","ListItemText","Snackbar","Badge","Tooltip","IconButton","Accordion","AccordionSummary","AccordionDetails","LinearProgress","Stack","ExpandMoreIcon","RealEstateService","jsxDEV","_jsxDEV","Fragment","_Fragment","ChatInterface","_s","_selectedProperty$squ","console","log","messages","setMessages","input","setInput","loading","setLoading","properties","setProperties","selectedProperty","setSelectedProperty","showPropertyDetails","setShowPropertyDetails","snackbar","setSnackbar","open","message","severity","searchSuggestions","setSearchSuggestions","actionLoading","setActionLoading","messagesEndRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","welcomeMessage","id","text","sender","timestamp","Date","toISOString","type","handleSubmit","e","preventDefault","trim","userMessage","length","prev","newMessages","currentInput","_response$data","_response$data2","response","chatQuery","status","data","agentMessage","processedProperties","map","p","showAmenities","negotiationStatus","isExactMatch","amenitiesData","negotiationData","closingData","alternative_count","suggestions","fetchAlternativeProperties","_response$data3","error","name","stack","errorMessage","originalQuery","responseData","alternativeQueries","generateAlternativeQueries","altQuery","_altResponse$data","altResponse","altProperties","isAlternative","altMessage","now","alternatives","toLowerCase","includes","push","replace","slice","handlePropertyAction","property","action","actionKey","address","detailsResponse","city","state","price","bedrooms","bathrooms","square_feet","year_built","detailsMessage","property_type","getPropertyAmenities","amenitiesMessage","suggestedOffer","Math","round","toLocaleString","negotiatePrice","negotiation_status","negotiationMessage","offerAmount","offer","finalizeDeal","dealStatus","closingMessage","warn","newState","handleSuggestionClick","suggestion","query","PropertyCard","_property$square_feet","isActionLoading","sx","mb","borderLeft","opacity","position","children","label","size","color","top","right","zIndex","fileName","_jsxFileName","lineNumber","columnNumber","display","justifyContent","alignItems","variant","component","flexGrow","pr","container","spacing","item","xs","sm","flexWrap","gap","is_pet_friendly","mt","expandIcon","fontWeight","amenities","amenity","index","nearby_amenities","Object","entries","category","info","charAt","toUpperCase","distance","counter_offer","next_steps","dense","step","py","onClick","disabled","startIcon","_property$negotiation","maxWidth","height","flexDirection","elevation","borderRadius","overflow","bgcolor","badgeContent","_message$data$amenity","_message$data$market_","width","mr","backgroundColor","whiteSpace","amenity_score","rating","market_insights","price_trend","ml","ref","px","pb","clickable","cursor","maxHeight","some","borderTop","borderColor","onSubmit","fullWidth","value","onChange","target","placeholder","multiline","maxRows","minWidth","onClose","primary","secondary","lot_size","keys","autoHideDuration","_c","$RefreshReg$"],"sources":["D:/FreeLance/Real-estate-agent/frontend/src/components/ChatInterface.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport {\r\n  Box,\r\n  TextField,\r\n  Button,\r\n  Paper,\r\n  Typography,\r\n  Container,\r\n  CircularProgress,\r\n  Card,\r\n  CardContent,\r\n  CardActions,\r\n  Chip,\r\n  Divider,\r\n  Alert,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Grid,\r\n  Avatar,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  Snackbar,\r\n  Badge,\r\n  Tooltip,\r\n  IconButton,\r\n  Accordion,\r\n  AccordionSummary,\r\n  AccordionDetails,\r\n  LinearProgress,\r\n  Stack\r\n} from '@mui/material';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport RealEstateService from '../services/realEstateService';\r\n\r\nconst ChatInterface = () => {\r\n  console.log('ðŸŽ¨ =================================');\r\n  console.log('ðŸŽ¨ CHAT INTERFACE COMPONENT LOADING');\r\n  console.log('ðŸŽ¨ =================================');\r\n  \r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [properties, setProperties] = useState([]);\r\n  const [selectedProperty, setSelectedProperty] = useState(null);\r\n  const [showPropertyDetails, setShowPropertyDetails] = useState(false);\r\n  const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'info' });\r\n  const [searchSuggestions, setSearchSuggestions] = useState([]);\r\n  const [actionLoading, setActionLoading] = useState({}); // Track loading state for each action\r\n  const messagesEndRef = useRef(null);\r\n\r\n  console.log('ðŸŽ¨ Component state initialized');\r\n  console.log('ðŸŽ¨ RealEstateService available:', !!RealEstateService);\r\n\r\n  const scrollToBottom = () => {\r\n    console.log('ðŸ“œ Scrolling to bottom');\r\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log('ðŸ“œ Messages updated, scrolling to bottom');\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  useEffect(() => {\r\n    console.log('ðŸŽ¬ ChatInterface mounted, adding welcome message');\r\n    const welcomeMessage = {\r\n      id: 1,\r\n      text: \"ðŸ‘‹ Welcome to AI Real Estate Assistant! I'm here to help you find your perfect home.\\n\\nðŸ  I can help you with:\\nâ€¢ Property searches with smart filtering\\nâ€¢ Detailed amenities information\\nâ€¢ Price negotiations\\nâ€¢ Deal closing process\\n\\nTry asking: 'Find 2BHK apartments in Dallas under $500K'\",\r\n      sender: 'agent',\r\n      timestamp: new Date().toISOString(),\r\n      type: 'welcome'\r\n    };\r\n    \r\n    console.log('ðŸŽ¬ Welcome message created:', welcomeMessage);\r\n    setMessages([welcomeMessage]);\r\n  }, []);\r\n\r\n  const handleSubmit = async (e) => {\r\n    console.log('ðŸ“ =================================');\r\n    console.log('ðŸ“ FORM SUBMIT STARTED');\r\n    console.log('ðŸ“ =================================');\r\n    \r\n    e.preventDefault();\r\n    console.log('ðŸ“ Event prevented');\r\n    console.log('ðŸ“ Current input value:', input);\r\n    console.log('ðŸ“ Input trimmed:', input.trim());\r\n    \r\n    if (!input.trim()) {\r\n      console.log('âš ï¸ Empty input, returning early');\r\n      return;\r\n    }\r\n\r\n    console.log('ðŸ“ Creating user message...');\r\n    const userMessage = {\r\n      id: messages.length + 1,\r\n      text: input,\r\n      sender: 'user',\r\n      timestamp: new Date().toISOString(),\r\n    };\r\n    console.log('ðŸ“ User message created:', userMessage);\r\n\r\n    console.log('ðŸ“ Updating messages state...');\r\n    setMessages((prev) => {\r\n      console.log('ðŸ“ Previous messages:', prev);\r\n      const newMessages = [...prev, userMessage];\r\n      console.log('ðŸ“ New messages array:', newMessages);\r\n      return newMessages;\r\n    });\r\n    \r\n    const currentInput = input;\r\n    console.log('ðŸ“ Saving current input:', currentInput);\r\n    console.log('ðŸ“ Clearing input field...');\r\n    setInput('');\r\n    \r\n    console.log('ðŸ“ Setting loading to true...');\r\n    setLoading(true);\r\n\r\n    try {\r\n      console.log('ðŸš€ Starting API call...');\r\n      console.log('ðŸš€ Calling RealEstateService.chatQuery with:', currentInput);\r\n      \r\n      // Call the service\r\n      const response = await RealEstateService.chatQuery(currentInput);\r\n      \r\n      console.log('âœ… API call completed');\r\n      console.log('âœ… Response received:', response);\r\n      console.log('âœ… Response status:', response.status);\r\n      console.log('âœ… Response message:', response.message);\r\n      console.log('âœ… Response data:', response.data);\r\n      \r\n      const agentMessage = {\r\n        id: messages.length + 2,\r\n        text: response.message || \"I'm processing your request...\",\r\n        sender: 'agent',\r\n        timestamp: new Date().toISOString(),\r\n        data: response.data,\r\n        status: response.status\r\n      };\r\n      console.log('ðŸ¤– Agent message created:', agentMessage);\r\n\r\n      console.log('ðŸ“ Adding agent message to state...');\r\n      setMessages((prev) => {\r\n        console.log('ðŸ“ Previous messages before agent response:', prev);\r\n        const newMessages = [...prev, agentMessage];\r\n        console.log('ðŸ“ Messages after agent response:', newMessages);\r\n        return newMessages;\r\n      });\r\n\r\n      // Enhanced property handling\r\n      console.log('ðŸ  Checking for properties in response...');\r\n      if (response.data?.properties && response.data.properties.length > 0) {\r\n        console.log('ðŸ  Exact match properties found:', response.data.properties.length);\r\n        console.log('ðŸ  First property:', response.data.properties[0]);\r\n        \r\n        const processedProperties = response.data.properties.map(p => ({ \r\n          ...p, \r\n          showAmenities: false,\r\n          negotiationStatus: 'none',\r\n          isExactMatch: true,\r\n          amenitiesData: null,\r\n          negotiationData: null,\r\n          closingData: null\r\n        }));\r\n        console.log('ðŸ  Processed properties:', processedProperties);\r\n        \r\n        setProperties(processedProperties);\r\n        setSearchSuggestions([]);\r\n        console.log('ðŸ  Properties state updated');\r\n        \r\n      } else if (response.data?.alternative_count > 0) {\r\n        // Handle alternative properties when no exact matches\r\n        console.log('ðŸ  No exact matches, but alternatives available:', response.data.alternative_count);\r\n        console.log('ðŸ  Suggestions:', response.data.suggestions);\r\n        \r\n        // Store suggestions for display\r\n        setSearchSuggestions(response.data.suggestions || []);\r\n        \r\n        // Try to get some alternative properties automatically\r\n        await fetchAlternativeProperties(currentInput, response.data);\r\n        \r\n      } else {\r\n        console.log('ðŸ  No properties found in response');\r\n        setProperties([]);\r\n        setSearchSuggestions(response.data?.suggestions || []);\r\n      }\r\n\r\n      // Show success/error snackbar\r\n      if (response.status === 'error') {\r\n        console.log('âš ï¸ Error response detected, showing snackbar');\r\n        setSnackbar({ \r\n          open: true, \r\n          message: 'Something went wrong. Please try again.', \r\n          severity: 'error' \r\n        });\r\n      } else {\r\n        console.log('âœ… Success response detected');\r\n      }\r\n\r\n    } catch (error) {\r\n      console.log('ðŸ’¥ =================================');\r\n      console.log('ðŸ’¥ HANDLE SUBMIT ERROR');\r\n      console.log('ðŸ’¥ =================================');\r\n      console.error('ðŸ’¥ Caught error in handleSubmit:', error);\r\n      console.error('ðŸ’¥ Error name:', error.name);\r\n      console.error('ðŸ’¥ Error message:', error.message);\r\n      console.error('ðŸ’¥ Error stack:', error.stack);\r\n      \r\n      const errorMessage = {\r\n        id: messages.length + 2,\r\n        text: 'âŒ Sorry, I encountered an error. Please try again or rephrase your question.',\r\n        sender: 'agent',\r\n        timestamp: new Date().toISOString(),\r\n        status: 'error'\r\n      };\r\n      console.log('ðŸ’¥ Error message created:', errorMessage);\r\n      \r\n      setMessages((prev) => [...prev, errorMessage]);\r\n      \r\n      setSnackbar({ \r\n        open: true, \r\n        message: 'Connection error. Please check your internet and try again.', \r\n        severity: 'error' \r\n      });\r\n    } finally {\r\n      console.log('ðŸ Setting loading to false...');\r\n      setLoading(false);\r\n      console.log('ðŸ Handle submit completed');\r\n    }\r\n  };\r\n\r\n  const fetchAlternativeProperties = async (originalQuery, responseData) => {\r\n    try {\r\n      console.log('ðŸ”„ Fetching alternative properties...');\r\n      \r\n      // Generate alternative queries based on the original\r\n      const alternativeQueries = generateAlternativeQueries(originalQuery, responseData);\r\n      \r\n      for (const altQuery of alternativeQueries) {\r\n        console.log('ðŸ”„ Trying alternative query:', altQuery);\r\n        \r\n        const altResponse = await RealEstateService.chatQuery(altQuery);\r\n        \r\n        if (altResponse.data?.properties && altResponse.data.properties.length > 0) {\r\n          console.log('ðŸ  Alternative properties found:', altResponse.data.properties.length);\r\n          \r\n          const altProperties = altResponse.data.properties.map(p => ({ \r\n            ...p, \r\n            showAmenities: false,\r\n            negotiationStatus: 'none',\r\n            isAlternative: true,\r\n            amenitiesData: null,\r\n            negotiationData: null,\r\n            closingData: null\r\n          }));\r\n          \r\n          setProperties(altProperties);\r\n          \r\n          // Add an info message about alternatives\r\n          const altMessage = {\r\n            id: Date.now(), // Use timestamp for unique ID\r\n            text: `ðŸ’¡ Since no exact matches were found, here are ${altProperties.length} similar properties that might interest you:`,\r\n            sender: 'agent',\r\n            timestamp: new Date().toISOString(),\r\n            type: 'alternatives'\r\n          };\r\n          \r\n          setMessages(prev => [...prev, altMessage]);\r\n          break; // Stop after finding the first successful alternative\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.log('âŒ Error fetching alternatives:', error);\r\n    }\r\n  };\r\n\r\n  const generateAlternativeQueries = (originalQuery, responseData) => {\r\n    const alternatives = [];\r\n    \r\n    // If San Francisco, try other CA cities\r\n    if (originalQuery.toLowerCase().includes('san francisco')) {\r\n      alternatives.push(originalQuery.replace(/san francisco/i, 'Los Angeles'));\r\n      alternatives.push(originalQuery.replace(/san francisco/i, 'San Diego'));\r\n    }\r\n    \r\n    // If under certain price, try higher prices\r\n    if (originalQuery.includes('$500K') || originalQuery.includes('500K')) {\r\n      alternatives.push(originalQuery.replace(/\\$?500K|\\$?500,000/i, '$600K'));\r\n      alternatives.push(originalQuery.replace(/\\$?500K|\\$?500,000/i, '$700K'));\r\n    }\r\n    \r\n    // Try different cities entirely\r\n    alternatives.push(originalQuery.replace(/in \\w+( \\w+)?/, 'in Dallas'));\r\n    alternatives.push(originalQuery.replace(/in \\w+( \\w+)?/, 'in Houston'));\r\n    alternatives.push(originalQuery.replace(/under \\$\\d+K?/, 'under $600K'));\r\n    \r\n    // Generic fallback\r\n    if (alternatives.length === 0) {\r\n      alternatives.push('Show me 2 bedroom apartments under $600K');\r\n      alternatives.push('Find available apartments with 2 bedrooms');\r\n    }\r\n    \r\n    return alternatives.slice(0, 3); // Limit to 3 alternatives\r\n  };\r\n\r\n  // Enhanced handlePropertyAction with proper agent integration\r\n  const handlePropertyAction = async (property, action, data = {}) => {\r\n    console.log('ðŸ  =================================');\r\n    console.log('ðŸ  PROPERTY ACTION STARTED');\r\n    console.log('ðŸ  =================================');\r\n    console.log('ðŸ  Property:', property);\r\n    console.log('ðŸ  Action:', action);\r\n    console.log('ðŸ  Data:', data);\r\n    \r\n    // Set loading state for this specific action\r\n    const actionKey = `${property.id}-${action}`;\r\n    setActionLoading(prev => ({ ...prev, [actionKey]: true }));\r\n    \r\n    try {\r\n      let response;\r\n      let agentMessage;\r\n      \r\n      switch (action) {\r\n        case 'viewDetails':\r\n          console.log('ðŸ‘€ Invoking Details Agent for property:', property.id);\r\n          \r\n          // Add immediate feedback message\r\n          agentMessage = {\r\n            id: Date.now(),\r\n            text: `ðŸ” Let me get detailed information about the property at ${property.address}...`,\r\n            sender: 'agent',\r\n            timestamp: new Date().toISOString(),\r\n            type: 'processing'\r\n          };\r\n          setMessages(prev => [...prev, agentMessage]);\r\n          \r\n          // Open modal and add detailed agent response\r\n          setSelectedProperty(property);\r\n          setShowPropertyDetails(true);\r\n          \r\n          // Generate intelligent property analysis\r\n          const detailsResponse = await RealEstateService.chatQuery(\r\n            `Provide detailed analysis and insights for this property: ${property.address}, ${property.city}, ${property.state}. Price: $${property.price}, ${property.bedrooms} bed, ${property.bathrooms} bath, ${property.square_feet} sqft, built in ${property.year_built}`\r\n          );\r\n          \r\n          const detailsMessage = {\r\n            id: Date.now() + 1,\r\n            text: detailsResponse.message || `Here's what I found about ${property.address}: This ${property.property_type} offers great value in ${property.city}. Built in ${property.year_built}, it features ${property.bedrooms} bedrooms and ${property.bathrooms} bathrooms in ${property.square_feet} square feet.`,\r\n            sender: 'agent',\r\n            timestamp: new Date().toISOString(),\r\n            type: 'property_details'\r\n          };\r\n          setMessages(prev => [...prev, detailsMessage]);\r\n          break;\r\n\r\n        case 'showAmenities':\r\n          console.log('ðŸ¢ Invoking Amenities Agent for property:', property.id);\r\n          \r\n          // Add immediate feedback\r\n          agentMessage = {\r\n            id: Date.now(),\r\n            text: `ðŸ¢ Analyzing amenities and nearby facilities for ${property.address}...`,\r\n            sender: 'agent',\r\n            timestamp: new Date().toISOString(),\r\n            type: 'processing'\r\n          };\r\n          setMessages(prev => [...prev, agentMessage]);\r\n          \r\n          // Call amenities agent\r\n          response = await RealEstateService.getPropertyAmenities(property.id);\r\n          console.log('ðŸ¢ Amenities response:', response);\r\n          \r\n          if (response.status === 'success') {\r\n            console.log('ðŸ¢ Updating property amenities in state');\r\n            setProperties(prev => prev.map(p =>\r\n              p.id === property.id\r\n                ? { ...p, showAmenities: !p.showAmenities, amenitiesData: response.data }\r\n                : p\r\n            ));\r\n            \r\n            // Add detailed amenities message\r\n            const amenitiesMessage = {\r\n              id: Date.now() + 1,\r\n              text: response.message || `ðŸ¢ Here are the amenities and nearby facilities for ${property.address}. This property offers excellent access to local services and recreational facilities.`,\r\n              sender: 'agent',\r\n              timestamp: new Date().toISOString(),\r\n              type: 'amenities',\r\n              data: response.data\r\n            };\r\n            setMessages(prev => [...prev, amenitiesMessage]);\r\n          }\r\n          break;\r\n          \r\n        case 'makeOffer':\r\n          console.log('ðŸ’° Invoking Negotiation Agent for property:', property.id);\r\n          \r\n          const suggestedOffer = Math.round(property.price * 0.95);\r\n          \r\n          // Add immediate feedback\r\n          agentMessage = {\r\n            id: Date.now(),\r\n            text: `ðŸ’° Preparing negotiation strategy for ${property.address}. Analyzing market conditions and suggesting competitive offer...`,\r\n            sender: 'agent',\r\n            timestamp: new Date().toISOString(),\r\n            type: 'processing'\r\n          };\r\n          setMessages(prev => [...prev, agentMessage]);\r\n          \r\n          // Auto-populate input with suggested offer\r\n          setInput(`I want to make an offer of $${suggestedOffer.toLocaleString()} for property ${property.id}`);\r\n          \r\n          // Call negotiation agent for market analysis\r\n          response = await RealEstateService.negotiatePrice(property.id, suggestedOffer);\r\n          console.log('ðŸ’° Negotiation response:', response);\r\n          \r\n          if (response.status === 'success') {\r\n            setProperties(prev => prev.map(p =>\r\n              p.id === property.id\r\n                ? { ...p, negotiationStatus: response.data.negotiation_status, negotiationData: response.data }\r\n                : p\r\n            ));\r\n            \r\n            const negotiationMessage = {\r\n              id: Date.now() + 1,\r\n              text: response.message || `ðŸ’° I've analyzed the market for ${property.address}. Based on current conditions, here's my recommendation for your offer strategy.`,\r\n              sender: 'agent',\r\n              timestamp: new Date().toISOString(),\r\n              data: response.data,\r\n              type: 'negotiation'\r\n            };\r\n            setMessages(prev => [...prev, negotiationMessage]);\r\n          }\r\n          break;\r\n\r\n        case 'negotiate':\r\n          console.log('ðŸ’° Processing negotiation for property:', property.id);\r\n          const offerAmount = data.offer || Math.round(property.price * 0.95);\r\n          \r\n          agentMessage = {\r\n            id: Date.now(),\r\n            text: `ðŸ¤ Submitting your offer of $${offerAmount.toLocaleString()} to the seller and analyzing their response...`,\r\n            sender: 'agent',\r\n            timestamp: new Date().toISOString(),\r\n            type: 'processing'\r\n          };\r\n          setMessages(prev => [...prev, agentMessage]);\r\n          \r\n          response = await RealEstateService.negotiatePrice(property.id, offerAmount);\r\n          console.log('ðŸ’° Negotiation response:', response);\r\n          \r\n          if (response.status === 'success') {\r\n            console.log('ðŸ’° Updating negotiation status');\r\n            setProperties(prev => prev.map(p =>\r\n              p.id === property.id\r\n                ? { ...p, negotiationStatus: response.data.negotiation_status, negotiationData: response.data }\r\n                : p\r\n            ));\r\n            \r\n            const negotiationMessage = {\r\n              id: Date.now() + 1,\r\n              text: response.message,\r\n              sender: 'agent',\r\n              timestamp: new Date().toISOString(),\r\n              data: response.data,\r\n              type: 'negotiation'\r\n            };\r\n            setMessages(prev => [...prev, negotiationMessage]);\r\n          }\r\n          break;\r\n          \r\n        case 'closeDeal':\r\n          console.log('ðŸ¤ Invoking Deal Closing Agent for property:', property.id);\r\n          \r\n          agentMessage = {\r\n            id: Date.now(),\r\n            text: `ðŸ¤ Initiating deal closing process for ${property.address}. Preparing contracts and coordinating with all parties...`,\r\n            sender: 'agent',\r\n            timestamp: new Date().toISOString(),\r\n            type: 'processing'\r\n          };\r\n          setMessages(prev => [...prev, agentMessage]);\r\n          \r\n          response = await RealEstateService.finalizeDeal(property.id);\r\n          console.log('ðŸ¤ Deal response:', response);\r\n          \r\n          if (response.status === 'success') {\r\n            console.log('ðŸ¤ Updating property deal status');\r\n            setProperties(prev => prev.map(p =>\r\n              p.id === property.id\r\n                ? { ...p, dealStatus: 'closed', closingData: response.data }\r\n                : p\r\n            ));\r\n            \r\n            const closingMessage = {\r\n              id: Date.now() + 1,\r\n              text: response.message || `ðŸŽ‰ Congratulations! The deal for ${property.address} has been successfully closed. Welcome to your new home!`,\r\n              sender: 'agent',\r\n              timestamp: new Date().toISOString(),\r\n              data: response.data,\r\n              type: 'closing'\r\n            };\r\n            setMessages(prev => [...prev, closingMessage]);\r\n            \r\n            setSnackbar({ \r\n              open: true, \r\n              message: 'ðŸŽ‰ Congratulations! Deal successfully closed!', \r\n              severity: 'success' \r\n            });\r\n          }\r\n          break;\r\n          \r\n        default:\r\n          console.warn('â“ Unknown action:', action);\r\n          break;\r\n      }\r\n    } catch (error) {\r\n      console.error('ðŸ’¥ Property action error:', error);\r\n      \r\n      const errorMessage = {\r\n        id: Date.now(),\r\n        text: `âŒ Sorry, I encountered an issue while processing your ${action} request. Please try again.`,\r\n        sender: 'agent',\r\n        timestamp: new Date().toISOString(),\r\n        type: 'error'\r\n      };\r\n      setMessages(prev => [...prev, errorMessage]);\r\n      \r\n      setSnackbar({ \r\n        open: true, \r\n        message: 'Action failed. Please try again.', \r\n        severity: 'error' \r\n      });\r\n    } finally {\r\n      // Clear loading state\r\n      setActionLoading(prev => {\r\n        const newState = { ...prev };\r\n        delete newState[actionKey];\r\n        return newState;\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSuggestionClick = (suggestion) => {\r\n    console.log('ðŸ’¡ Suggestion clicked:', suggestion);\r\n    \r\n    // Convert suggestion to a searchable query\r\n    let query = '';\r\n    if (suggestion.includes('budget')) {\r\n      query = input.replace(/under \\$\\d+K?/i, 'under $600K');\r\n    } else if (suggestion.includes('nearby')) {\r\n      query = input.replace(/in \\w+( \\w+)?/i, 'in nearby areas');\r\n    } else {\r\n      query = suggestion;\r\n    }\r\n    \r\n    setInput(query);\r\n  };\r\n\r\n  const PropertyCard = ({ property }) => {\r\n    console.log('ðŸŽ´ Rendering PropertyCard for:', property.id);\r\n    \r\n    const isActionLoading = (action) => actionLoading[`${property.id}-${action}`];\r\n    \r\n    return (\r\n      <Card \r\n        sx={{ \r\n          mb: 2, \r\n          borderLeft: property.dealStatus === 'closed' \r\n            ? '4px solid #4caf50' \r\n            : property.isAlternative \r\n              ? '4px solid #ff9800' \r\n              : '4px solid #2196f3',\r\n          opacity: property.dealStatus === 'closed' ? 0.8 : 1,\r\n          position: 'relative'\r\n        }}\r\n      >\r\n        {property.isAlternative && (\r\n          <Chip \r\n            label=\"Similar Property\" \r\n            size=\"small\" \r\n            color=\"warning\" \r\n            sx={{ position: 'absolute', top: 8, right: 8, zIndex: 1 }}\r\n          />\r\n        )}\r\n        \r\n        <CardContent>\r\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', mb: 2 }}>\r\n            <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1, pr: 2 }}>\r\n              ðŸ  {property.address}\r\n            </Typography>\r\n            {property.dealStatus === 'closed' && (\r\n              <Chip label=\"SOLD\" color=\"success\" size=\"small\" />\r\n            )}\r\n          </Box>\r\n          \r\n          <Typography color=\"text.secondary\" sx={{ mb: 1 }}>\r\n            ðŸ“ {property.city}, {property.state}\r\n          </Typography>\r\n\r\n          <Grid container spacing={2} sx={{ mb: 2 }}>\r\n            <Grid item xs={6} sm={3}>\r\n              <Typography variant=\"h6\" color=\"success.main\">\r\n                ðŸ’° ${property.price.toLocaleString()}\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={6} sm={3}>\r\n              <Typography>ðŸ›ï¸ {property.bedrooms} bed</Typography>\r\n            </Grid>\r\n            <Grid item xs={6} sm={3}>\r\n              <Typography>ðŸ› {property.bathrooms} bath</Typography>\r\n            </Grid>\r\n            <Grid item xs={6} sm={3}>\r\n              <Typography>ðŸ“ {property.square_feet?.toLocaleString()} sqft</Typography>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1, mb: 2 }}>\r\n            <Chip label={property.property_type} variant=\"outlined\" size=\"small\" />\r\n            {property.is_pet_friendly && (\r\n              <Chip label=\"ðŸ• Pet Friendly\" variant=\"outlined\" size=\"small\" color=\"secondary\" />\r\n            )}\r\n            {property.year_built && (\r\n              <Chip label={`Built ${property.year_built}`} variant=\"outlined\" size=\"small\" />\r\n            )}\r\n          </Box>\r\n\r\n          {/* Enhanced Amenities Display */}\r\n          {property.showAmenities && property.amenitiesData && (\r\n            <Accordion sx={{ mt: 2 }}>\r\n              <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n                <Typography variant=\"subtitle2\" sx={{ fontWeight: 'bold' }}>\r\n                  ðŸ¢ Property Amenities & Nearby Facilities\r\n                </Typography>\r\n              </AccordionSummary>\r\n              <AccordionDetails>\r\n                {property.amenitiesData.amenities && (\r\n                  <Box sx={{ mb: 2 }}>\r\n                    <Typography variant=\"body2\" sx={{ mb: 1, fontWeight: 'bold' }}>Building Amenities:</Typography>\r\n                    <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5 }}>\r\n                      {property.amenitiesData.amenities.slice(0, 8).map((amenity, index) => (\r\n                        <Chip key={index} label={amenity} size=\"small\" variant=\"outlined\" />\r\n                      ))}\r\n                    </Box>\r\n                  </Box>\r\n                )}\r\n                \r\n                {property.nearby_amenities && (\r\n                  <Box>\r\n                    <Typography variant=\"body2\" sx={{ mb: 1, fontWeight: 'bold' }}>Nearby Facilities:</Typography>\r\n                    <Grid container spacing={1}>\r\n                      {Object.entries(property.nearby_amenities).map(([category, info]) => (\r\n                        <Grid item xs={12} sm={6} key={category}>\r\n                          <Typography variant=\"caption\">\r\n                            <strong>{category.charAt(0).toUpperCase() + category.slice(1)}:</strong> {info.name} ({info.distance} mi)\r\n                          </Typography>\r\n                        </Grid>\r\n                      ))}\r\n                    </Grid>\r\n                  </Box>\r\n                )}\r\n              </AccordionDetails>\r\n            </Accordion>\r\n          )}\r\n\r\n          {/* Enhanced Negotiation Display */}\r\n          {property.negotiationData && (\r\n            <Alert \r\n              severity={property.negotiationData.negotiation_status === 'accepted' ? 'success' : 'info'}\r\n              sx={{ mt: 2 }}\r\n            >\r\n              <strong>Negotiation Update:</strong> {property.negotiationData.message || 'Offer under review'}\r\n              {property.negotiationData.counter_offer && (\r\n                <Typography variant=\"body2\" sx={{ mt: 1 }}>\r\n                  Counter Offer: ${property.negotiationData.counter_offer.toLocaleString()}\r\n                </Typography>\r\n              )}\r\n              {property.negotiationData.next_steps && (\r\n                <Box sx={{ mt: 1 }}>\r\n                  <Typography variant=\"body2\" sx={{ fontWeight: 'bold' }}>Next Steps:</Typography>\r\n                  <List dense>\r\n                    {property.negotiationData.next_steps.slice(0, 3).map((step, index) => (\r\n                      <ListItem key={index} sx={{ py: 0.5 }}>\r\n                        <Typography variant=\"caption\">â€¢ {step}</Typography>\r\n                      </ListItem>\r\n                    ))}\r\n                  </List>\r\n                </Box>\r\n              )}\r\n            </Alert>\r\n          )}\r\n        </CardContent>\r\n\r\n        <CardActions sx={{ flexWrap: 'wrap', gap: 1 }}>\r\n          <Button \r\n            size=\"small\" \r\n            onClick={() => handlePropertyAction(property, 'viewDetails')}\r\n            disabled={isActionLoading('viewDetails')}\r\n            startIcon={isActionLoading('viewDetails') ? <CircularProgress size={16} /> : null}\r\n          >\r\n            {isActionLoading('viewDetails') ? 'Loading...' : 'â„¹ï¸ View Details'}\r\n          </Button>\r\n          \r\n          <Button \r\n            size=\"small\" \r\n            onClick={() => handlePropertyAction(property, 'showAmenities')}\r\n            disabled={isActionLoading('showAmenities')}\r\n            startIcon={isActionLoading('showAmenities') ? <CircularProgress size={16} /> : null}\r\n          >\r\n            {isActionLoading('showAmenities') \r\n              ? 'Loading...' \r\n              : property.showAmenities \r\n                ? 'ðŸ”½ Hide Amenities' \r\n                : 'ðŸ”¼ Show Amenities'}\r\n          </Button>\r\n\r\n          {property.dealStatus !== 'closed' && (\r\n            <>\r\n              <Button\r\n                size=\"small\"\r\n                variant=\"contained\"\r\n                onClick={() => handlePropertyAction(property, 'makeOffer')}\r\n                disabled={isActionLoading('makeOffer')}\r\n                startIcon={isActionLoading('makeOffer') ? <CircularProgress size={16} /> : null}\r\n              >\r\n                {isActionLoading('makeOffer') ? 'Analyzing...' : 'ðŸ’° Make Offer'}\r\n              </Button>\r\n\r\n              {property.negotiationStatus === 'accepted' && (\r\n                <Button\r\n                  size=\"small\"\r\n                  color=\"success\"\r\n                  variant=\"contained\"\r\n                  onClick={() => handlePropertyAction(property, 'closeDeal')}\r\n                  disabled={isActionLoading('closeDeal')}\r\n                  startIcon={isActionLoading('closeDeal') ? <CircularProgress size={16} /> : null}\r\n                >\r\n                  {isActionLoading('closeDeal') ? 'Processing...' : 'âœ… Close Deal'}\r\n                </Button>\r\n              )}\r\n              \r\n              {property.negotiationStatus === 'counter_offered' && (\r\n                <Button\r\n                  size=\"small\"\r\n                  color=\"warning\"\r\n                  variant=\"contained\"\r\n                  onClick={() => handlePropertyAction(property, 'negotiate', { \r\n                    offer: property.negotiationData?.counter_offer \r\n                  })}\r\n                  disabled={isActionLoading('negotiate')}\r\n                >\r\n                  ðŸ¤ Accept Counter\r\n                </Button>\r\n              )}\r\n            </>\r\n          )}\r\n        </CardActions>\r\n      </Card>\r\n    );\r\n  };\r\n\r\n  console.log('ðŸŽ¨ Rendering ChatInterface component');\r\n  console.log('ðŸŽ¨ Current state - messages:', messages.length);\r\n  console.log('ðŸŽ¨ Current state - properties:', properties.length);\r\n  console.log('ðŸŽ¨ Current state - loading:', loading);\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\">\r\n      <Box sx={{ height: '100vh', py: 2, display: 'flex', flexDirection: 'column' }}>\r\n        <Paper elevation={3} sx={{ flexGrow: 1, display: 'flex', flexDirection: 'column', borderRadius: 2, overflow: 'hidden' }}>\r\n          \r\n          {/* Header */}\r\n          <Box sx={{ p: 2, bgcolor: 'primary.main', color: 'white', display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\r\n            <Typography variant=\"h6\">ðŸ  AI Real Estate Assistant</Typography>\r\n            {properties.length > 0 && (\r\n              <Badge badgeContent={properties.length} color=\"secondary\">\r\n                <Typography variant=\"body2\">Properties</Typography>\r\n              </Badge>\r\n            )}\r\n          </Box>\r\n\r\n          {/* Messages Area */}\r\n          <Box sx={{ flexGrow: 1, overflow: 'auto', p: 2, display: 'flex', flexDirection: 'column' }}>\r\n            {messages.map((message) => {\r\n              console.log('ðŸ’¬ Rendering message:', message.id, message.sender);\r\n              return (\r\n                <Box\r\n                  key={message.id}\r\n                  sx={{\r\n                    display: 'flex',\r\n                    justifyContent: message.sender === 'user' ? 'flex-end' : 'flex-start',\r\n                    mb: 2,\r\n                    alignItems: 'flex-start'\r\n                  }}\r\n                >\r\n                  {message.sender === 'agent' && (\r\n                    <Avatar sx={{ \r\n                      bgcolor: message.type === 'processing' ? 'warning.main' : 'secondary.main', \r\n                      width: 32, \r\n                      height: 32, \r\n                      mr: 1, \r\n                      mt: 0.5 \r\n                    }}>\r\n                      {message.type === 'processing' ? 'âš¡' : 'AI'}\r\n                    </Avatar>\r\n                  )}\r\n                  \r\n                  <Paper\r\n                    sx={{\r\n                      p: 2,\r\n                      backgroundColor: message.sender === 'user' \r\n                        ? 'primary.light' \r\n                        : message.status === 'error' \r\n                          ? 'error.light'\r\n                          : message.type === 'alternatives'\r\n                            ? 'warning.light'\r\n                            : message.type === 'processing'\r\n                              ? 'info.light'\r\n                              : 'grey.100',\r\n                      color: message.sender === 'user' ? 'white' : 'text.primary',\r\n                      maxWidth: '80%',\r\n                      borderRadius: 2,\r\n                      whiteSpace: 'pre-line'\r\n                    }}\r\n                  >\r\n                    <Typography variant=\"body1\">{message.text}</Typography>\r\n                    \r\n                    {/* Enhanced message data display */}\r\n                    {message.type === 'amenities' && message.data && (\r\n                      <Box sx={{ mt: 1, p: 1, bgcolor: 'rgba(255,255,255,0.1)', borderRadius: 1 }}>\r\n                        <Typography variant=\"caption\">\r\n                          âœ¨ Amenity Score: {message.data.amenity_score?.rating}/5.0\r\n                        </Typography>\r\n                      </Box>\r\n                    )}\r\n                    \r\n                    {message.type === 'negotiation' && message.data && (\r\n                      <Box sx={{ mt: 1, p: 1, bgcolor: 'rgba(255,255,255,0.1)', borderRadius: 1 }}>\r\n                        <Typography variant=\"caption\">\r\n                          ðŸ’° Market Analysis: {message.data.market_insights?.price_trend} trend\r\n                        </Typography>\r\n                      </Box>\r\n                    )}\r\n                  </Paper>\r\n\r\n                  {message.sender === 'user' && (\r\n                    <Avatar sx={{ bgcolor: 'primary.main', width: 32, height: 32, ml: 1, mt: 0.5 }}>\r\n                      U\r\n                    </Avatar>\r\n                  )}\r\n                </Box>\r\n              );\r\n            })}\r\n            <div ref={messagesEndRef} />\r\n          </Box>\r\n\r\n          {/* Search Suggestions */}\r\n          {searchSuggestions.length > 0 && properties.length === 0 && (\r\n            <Box sx={{ px: 2, pb: 1 }}>\r\n              <Typography variant=\"subtitle2\" sx={{ mb: 1, fontWeight: 'bold' }}>\r\n                ðŸ’¡ Try these suggestions:\r\n              </Typography>\r\n              <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\r\n                {searchSuggestions.map((suggestion, index) => (\r\n                  <Chip\r\n                    key={index}\r\n                    label={suggestion}\r\n                    variant=\"outlined\"\r\n                    size=\"small\"\r\n                    clickable\r\n                    onClick={() => handleSuggestionClick(suggestion)}\r\n                    sx={{ cursor: 'pointer' }}\r\n                  />\r\n                ))}\r\n              </Box>\r\n            </Box>\r\n          )}\r\n\r\n          {/* Properties Display */}\r\n          {properties.length > 0 && (\r\n            <Box sx={{ maxHeight: '400px', overflow: 'auto', px: 2, pb: 2 }}>\r\n              <Divider sx={{ mb: 2 }} />\r\n              <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', mb: 2 }}>\r\n                <Typography variant=\"h6\">\r\n                  ðŸ  {properties.some(p => p.isAlternative) ? 'Similar' : 'Found'} Properties ({properties.length}):\r\n                </Typography>\r\n                {properties.some(p => p.isAlternative) && (\r\n                  <Chip label=\"Alternative Results\" color=\"warning\" size=\"small\" />\r\n                )}\r\n              </Box>\r\n              {properties.map((property) => {\r\n                console.log('ðŸ  Rendering property card:', property.id);\r\n                return <PropertyCard key={property.id} property={property} />;\r\n              })}\r\n            </Box>\r\n          )}\r\n\r\n          {/* Input Area */}\r\n          <Box sx={{ p: 2, borderTop: '1px solid', borderColor: 'divider' }}>\r\n            <Box component=\"form\" onSubmit={handleSubmit} sx={{ display: 'flex', gap: 1 }}>\r\n              <TextField\r\n                fullWidth\r\n                value={input}\r\n                onChange={(e) => {\r\n                  console.log('âœï¸ Input changed:', e.target.value);\r\n                  setInput(e.target.value);\r\n                }}\r\n                placeholder=\"Ask me about properties, amenities, negotiations, or closing deals...\"\r\n                disabled={loading}\r\n                variant=\"outlined\"\r\n                size=\"small\"\r\n                multiline\r\n                maxRows={3}\r\n              />\r\n              <Button \r\n                type=\"submit\" \r\n                variant=\"contained\" \r\n                disabled={loading || !input.trim()}\r\n                sx={{ minWidth: 'auto', px: 2 }}\r\n                onClick={() => console.log('ðŸ”˜ Submit button clicked')}\r\n              >\r\n                {loading ? <CircularProgress size={24} /> : 'ðŸ“¤'}\r\n              </Button>\r\n            </Box>\r\n            \r\n            <Box sx={{ mt: 1, display: 'flex', flexWrap: 'wrap', gap: 1 }}>\r\n              <Chip \r\n                label=\"ðŸ” Search Dallas Properties\" \r\n                size=\"small\" \r\n                clickable \r\n                onClick={() => {\r\n                  console.log('ðŸ” Quick search clicked');\r\n                  setInput(\"Find 2BHK apartments in Dallas under $500K\");\r\n                }}\r\n              />\r\n              <Chip \r\n                label=\"ðŸ• Pet-Friendly Options\" \r\n                size=\"small\" \r\n                clickable \r\n                onClick={() => {\r\n                  console.log('ðŸ• Pet-friendly clicked');\r\n                  setInput(\"Show pet-friendly properties\");\r\n                }}\r\n              />\r\n              <Chip \r\n                label=\"âœ¨ Luxury Properties\" \r\n                size=\"small\" \r\n                clickable \r\n                onClick={() => {\r\n                  console.log('âœ¨ Luxury clicked');\r\n                  setInput(\"Find luxury condos with amenities\");\r\n                }}\r\n              />\r\n              <Chip \r\n                label=\"ðŸ  General Search\" \r\n                size=\"small\" \r\n                clickable \r\n                onClick={() => {\r\n                  console.log('ðŸ  General search clicked');\r\n                  setInput(\"Show me available 2 bedroom apartments\");\r\n                }}\r\n              />\r\n            </Box>\r\n          </Box>\r\n        </Paper>\r\n\r\n        {/* Enhanced Property Details Modal */}\r\n        <Dialog open={showPropertyDetails} onClose={() => setShowPropertyDetails(false)} maxWidth=\"md\" fullWidth>\r\n          <DialogTitle>Property Details & Analysis</DialogTitle>\r\n          <DialogContent>\r\n            {selectedProperty && (\r\n              <Box>\r\n                <Typography variant=\"h6\">{selectedProperty.address}</Typography>\r\n                <Typography color=\"text.secondary\" sx={{ mb: 2 }}>\r\n                  {selectedProperty.city}, {selectedProperty.state}\r\n                </Typography>\r\n                \r\n                <Grid container spacing={2}>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <List dense>\r\n                      <ListItem>\r\n                        <ListItemText primary=\"ðŸ’° Price\" secondary={`$${selectedProperty.price.toLocaleString()}`} />\r\n                      </ListItem>\r\n                      <ListItem>\r\n                        <ListItemText primary=\"ðŸ›ï¸ Bedrooms\" secondary={selectedProperty.bedrooms} />\r\n                      </ListItem>\r\n                      <ListItem>\r\n                        <ListItemText primary=\"ðŸ› Bathrooms\" secondary={selectedProperty.bathrooms} />\r\n                      </ListItem>\r\n                      <ListItem>\r\n                        <ListItemText primary=\"ðŸ“… Year Built\" secondary={selectedProperty.year_built} />\r\n                      </ListItem>\r\n                    </List>\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <List dense>\r\n                      <ListItem>\r\n                        <ListItemText primary=\"ðŸ“ Square Feet\" secondary={selectedProperty.square_feet?.toLocaleString()} />\r\n                      </ListItem>\r\n                      <ListItem>\r\n                        <ListItemText primary=\"ðŸ  Property Type\" secondary={selectedProperty.property_type} />\r\n                      </ListItem>\r\n                      <ListItem>\r\n                        <ListItemText primary=\"ðŸ• Pet Friendly\" secondary={selectedProperty.is_pet_friendly ? 'Yes' : 'No'} />\r\n                      </ListItem>\r\n                      <ListItem>\r\n                        <ListItemText primary=\"ðŸ“ Lot Size\" secondary={`${selectedProperty.lot_size} acres`} />\r\n                      </ListItem>\r\n                    </List>\r\n                  </Grid>\r\n                </Grid>\r\n\r\n                {/* Nearby Amenities */}\r\n                {selectedProperty.nearby_amenities && Object.keys(selectedProperty.nearby_amenities).length > 0 && (\r\n                  <Box sx={{ mt: 2 }}>\r\n                    <Typography variant=\"h6\" sx={{ mb: 1 }}>Nearby Amenities:</Typography>\r\n                    <Grid container spacing={1}>\r\n                      {Object.entries(selectedProperty.nearby_amenities).map(([category, info]) => (\r\n                        <Grid item xs={12} sm={6} key={category}>\r\n                          <Typography variant=\"body2\">\r\n                            <strong>{category.charAt(0).toUpperCase() + category.slice(1)}:</strong> {info.name} ({info.distance} mi)\r\n                          </Typography>\r\n                        </Grid>\r\n                      ))}\r\n                    </Grid>\r\n                  </Box>\r\n                )}\r\n              </Box>\r\n            )}\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={() => setShowPropertyDetails(false)}>Close</Button>\r\n            {selectedProperty && (\r\n              <Button \r\n                variant=\"contained\" \r\n                onClick={() => {\r\n                  setShowPropertyDetails(false);\r\n                  handlePropertyAction(selectedProperty, 'makeOffer');\r\n                }}\r\n              >\r\n                Make Offer\r\n              </Button>\r\n            )}\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        {/* Snackbar for notifications */}\r\n        <Snackbar\r\n          open={snackbar.open}\r\n          autoHideDuration={6000}\r\n          onClose={() => setSnackbar({ ...snackbar, open: false })}\r\n        >\r\n          <Alert onClose={() => setSnackbar({ ...snackbar, open: false })} severity={snackbar.severity} sx={{ width: '100%' }}>\r\n            {snackbar.message}\r\n          </Alert>\r\n        </Snackbar>\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconsole.log('ðŸŽ¨ ChatInterface component defined, exporting...');\r\nexport default ChatInterface;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}